(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["positions"],{"10c6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container challenge-content ofs-content"},[t.isMobileView?t._e():a("h1",[a("span",{staticClass:"icon icon-file-text"}),t._v("\n\t\tCorporate action orders\n\t\t"),t._m(0)]),t._v(" "),t.isMobileView?t._e():a("hr",{staticClass:"header-hr"}),t._v(" "),t.isMobileView?a("div",{staticClass:"notice text-box yellow"},[t._m(1)]):t._e(),t._v(" "),t.initFetch&&!t.ofsError?a("jobber",{attrs:{main:"Fetching OFS/Buyback",sub:"",loader:!0}}):t._e(),t._v(" "),t.isMobileView?t._e():a("br"),t._v(" "),(t.ofs_items.length>0||t.buy_back_items.length>0||t.takeover_items.length>0||t.delisting_items.length>0)&&!t.initFetch&&!t.ofsError&&t.isMobileView?a("div",{staticClass:"section"},[a("div",{staticClass:"action-tabs"},[t.ofs_items.length>0?a("span",{class:["ofs"===t.activeSection?"active":"","tab","ofs"],on:{click:function(e){return t.displayTab("ofs")}}},[t._v("\n\t\t\t\tOFS")]):t._e(),t.buy_back_items.length>0?a("span",{class:["buyback"===t.activeSection?"active":"","tab","buyback"],on:{click:function(e){return t.displayTab("buyback")}}},[t._v("\n\t\t\t\tBuybacks")]):t._e(),t.delisting_items.length>0?a("span",{class:["delisting"===t.activeSection?"active":"","tab","delisting"],on:{click:function(e){return t.displayTab("delisting")}}},[t._v("\n\t\t\t\tDelisting")]):t._e(),t.takeover_items.length>0?a("span",{class:["takeover"===t.activeSection?"active":"","tab","takeover"],on:{click:function(e){return t.displayTab("takeover")}}},[t._v("\n\t\t\t\tTakeover")]):t._e()])]):t._e(),t._v(" "),t.ofs_items.length>0&&!t.initFetch&&!t.ofsError&&(!t.isMobileView||t.isMobileView&&"ofs"===t.activeSection)?a("div",{staticClass:"section table-section"},[t.isMobileView?t._e():a("h2",[t._v("OFS")]),t._v(" "),a("div",{staticClass:"table-container"},[t.isMobileView?t._e():a("table",{staticClass:"challenge-table ofs-table"},[t._m(2),t._v(" "),a("tbody",t._l(t.ofs_items,(function(e,s){return a("tr",{key:s,on:{mouseleave:function(e){t.showDrop=!1},mouseenter:function(e){t.showDrop=!0}}},[a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e["tradingsymbol"])+"\n\t\t\t\t\t\t\t"),e["non_retail"]?a("span",{staticClass:"non-retail-flag"},[t._v("\n\t\t\t\t\t\t\t\tNon-retail\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),e["qty"]>0?a("span",{staticClass:"pending-flag"},[t._v("\n\t\t\t\t\t\t\t\tOrder received\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),t.showDrop?a("context-menu",{staticClass:"table"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[a("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),a("template",{slot:"menu"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCreateOfsModal(e,"OFS")}}},[a("span",{staticClass:"icon icon-chevron-right"}),t._v(" Place order")])]),t._v(" "),e["qty"]>0?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeViewOfsModal(e)}}},[a("span",{staticClass:"icon icon-book"}),t._v(" View orders")])]):t._e()])],2):t._e()],1),t._v(" "),a("td",{staticClass:"text-left"},[a("span",[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"time")))])]),t._v(" "),a("td",{staticClass:"text-left"},[a("span",[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"time")))])]),t._v(" "),a("td",[a("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e["floor_price"],3))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),e["qty"]>0?a("td",[t._v(t._s(e["qty"]))]):a("td",{staticClass:"no-bids"},[a("span",[t._v("No bids")])])])})),0)]),t._v(" "),t.isMobileView?a("div",{staticClass:"section table-section show-on-mobile cards"},t._l(t.ofs_items,(function(e,s){return a("div",{key:s,staticClass:"card",on:{click:function(a){return t.toShowContextMenu(e)}}},[t.contextMenuISIN===e.isin?a("mobile-context-menu",{on:{close:function(a){return t.toHideContextMenu(e)}}},[a("template",{slot:"menu"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCreateOfsModal(e,"OFS")}}},[a("span",[a("span",{staticClass:"icon icon-chevron-right"}),t._v(" Place order")])])]),t._v(" "),e["qty"]>0?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeViewOfsModal(e)}}},[a("span",[a("span",{staticClass:"icon icon-book"}),t._v(" View orders")])])]):t._e()])],2):t._e(),t._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"top-left"},[a("div",[t._v(t._s(e["tradingsymbol"]))])]),t._v(" "),a("div",{staticClass:"top-right"},[a("div",[e["non_retail"]?a("span",{staticClass:"non-retail-flag"},[t._v("\n\t\t\t\t\t\t\t\t\tNon-retail\n\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),e["qty"]>0?a("span",{staticClass:"pending-flag"},[t._v("\n\t\t\t\t\t\t\t\t\tOrder received\n\t\t\t\t\t\t\t\t")]):t._e()])])]),t._v(" "),a("div",{staticClass:"middle"},[a("div",{staticClass:"middle-left"},[a("div",[a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"time")))]),t._v(" to "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"time")))])])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"bottom-left"},[a("div",[a("span",{staticClass:"text-light-grey"},[t._v("Floor price")]),t._v(" "+t._s(t._f("inrFormat")(e["floor_price"],3))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"bottom-right"},[e["qty"]>0?a("div",[a("span",{staticClass:"text-light-grey"},[t._v("Bid qty.")]),t._v(" "+t._s(e["qty"]))]):a("div",{staticClass:"no-bids"},[a("span",[t._v("No bids")])])])])],1)})),0):t._e()])]):t._e(),t._v(" "),t.buy_back_items.length>0&&!t.initFetch&&!t.ofsError&&(!t.isMobileView||t.isMobileView&&"buyback"===t.activeSection)?a("div",{staticClass:"section table-section"},[t.isMobileView?t._e():a("h2",[t._v("Buybacks")]),t._v(" "),a("div",{staticClass:"table-container"},[t.isMobileView?t._e():a("table",{staticClass:"challenge-table ofs-table"},[t._m(3),t._v(" "),a("tbody",t._l(t.buy_back_items,(function(e,s){return a("tr",{key:s,on:{mouseleave:function(e){t.showDrop=!1},mouseenter:function(e){t.showDrop=!0}}},[a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e["tradingsymbol"])+"\n\t\t\t\t\t\t\t"),e["qty"]>0?a("span",{staticClass:"pending-flag"},[t._v("\n\t\t\t\t\t\t\t\tOrder received\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),t.showDrop?a("context-menu",{staticClass:"table"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[a("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),a("template",{slot:"menu"},[e["qty"]>0?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCancelModal(e,"buyback")}}},[a("span",{staticClass:"icon icon-trash"}),t._v(" Cancel order")])]):a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCreateBuybackModal(e,"buyback")}}},[a("span",{staticClass:"icon icon-chevron-right"}),t._v(" Place order")])])])],2):t._e()],1),t._v(" "),a("td",{staticClass:"text-left"},[a("span",[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"time")))])]),t._v(" "),a("td",{staticClass:"text-left"},[a("span",[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"time")))])]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e["floor_price"],3))+"\n\t\t\t\t\t\t")]),t._v(" "),e["qty"]>0?a("td",[t._v(t._s(e["qty"]))]):a("td",{staticClass:"text-center no-bids"},[a("span",[t._v("No bids")])])])})),0)]),t._v(" "),t.isMobileView?a("div",{staticClass:"section table-section show-on-mobile cards"},t._l(t.buy_back_items,(function(e,s){return a("div",{key:s,staticClass:"card",on:{click:function(a){return t.toShowContextMenu(e)}}},[t.contextMenuISIN===e.isin?a("mobile-context-menu",{on:{close:function(a){return t.toHideContextMenu(e)}}},[a("template",{slot:"menu"},[e["qty"]>0?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCancelModal(e,"buyback")}}},[a("span",[a("span",{staticClass:"icon icon-trash"}),t._v(" Cancel order")])])]):a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCreateBuybackModal(e,"buyback")}}},[a("span",[a("span",{staticClass:"icon icon-chevron-right"}),t._v(" Place order")])])])])],2):t._e(),t._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"top-left"},[a("div",[t._v(t._s(e["tradingsymbol"]))])]),t._v(" "),a("div",{staticClass:"top-right"},[a("div",[e["qty"]>0?a("span",{staticClass:"pending-flag"},[t._v("\n\t\t\t\t\t\t\t\t\tOrder received\n\t\t\t\t\t\t\t\t")]):t._e()])])]),t._v(" "),a("div",{staticClass:"middle"},[a("div",{staticClass:"middle-left"},[a("div",[a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"time")))]),t._v(" to "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"time")))])])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"bottom-left"},[a("div",[a("span",{staticClass:"text-light-grey"},[t._v("Floor price")]),t._v(" "+t._s(t._f("inrFormat")(e["floor_price"],3))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"bottom-right"},[e["qty"]>0?a("div",[a("span",{staticClass:"text-light-grey"},[t._v("Bid qty.")]),t._v(" "+t._s(e["qty"]))]):a("div",{staticClass:"no-bids"},[a("span",[t._v("No bids")])])])])],1)})),0):t._e()])]):t._e(),t._v(" "),t.takeover_items.length>0&&!t.initFetch&&!t.ofsError&&(!t.isMobileView||t.isMobileView&&"takeover"===t.activeSection)?a("div",{staticClass:"section table-section"},[t.isMobileView?t._e():a("h2",[t._v("Takeover")]),t._v(" "),a("div",{staticClass:"table-container"},[t.isMobileView?t._e():a("table",{staticClass:"challenge-table ofs-table"},[t._m(4),t._v(" "),a("tbody",t._l(t.takeover_items,(function(e,s){return a("tr",{key:s,on:{mouseleave:function(e){t.showDrop=!1},mouseenter:function(e){t.showDrop=!0}}},[a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e["tradingsymbol"])+"\n\t\t\t\t\t\t\t"),e["qty"]>0?a("span",{staticClass:"pending-flag"},[t._v("\n\t\t\t\t\t\t\t\tOrder received\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),t.showDrop?a("context-menu",{staticClass:"table"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[a("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),a("template",{slot:"menu"},[e["qty"]>0?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCancelModal(e,"takeover")}}},[a("span",{staticClass:"icon icon-trash"}),t._v(" Cancel order")])]):a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCreateBuybackModal(e,"takeover")}}},[a("span",{staticClass:"icon icon-chevron-right"}),t._v(" Place order")])])])],2):t._e()],1),t._v(" "),a("td",{staticClass:"text-left"},[a("span",[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"time")))])]),t._v(" "),a("td",{staticClass:"text-left"},[a("span",[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"time")))])]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e["floor_price"],3))+"\n\t\t\t\t\t\t")]),t._v(" "),e["qty"]>0?a("td",[t._v(t._s(e["qty"]))]):a("td",{staticClass:"text-center no-bids"},[a("span",[t._v("No bids")])])])})),0)]),t._v(" "),t.isMobileView?a("div",{staticClass:"section table-section show-on-mobile cards"},t._l(t.takeover_items,(function(e,s){return a("div",{key:s,staticClass:"card",on:{click:function(a){return t.toShowContextMenu(e)}}},[t.contextMenuISIN===e.isin?a("mobile-context-menu",{on:{close:function(a){return t.toHideContextMenu(e)}}},[a("template",{slot:"menu"},[e["qty"]>0?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCancelModal(e,"takeover")}}},[a("span",[a("span",{staticClass:"icon icon-trash"}),t._v(" Cancel order")])])]):a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCreateBuybackModal(e,"takeover")}}},[a("span",[a("span",{staticClass:"icon icon-chevron-right"}),t._v(" Place order")])])])])],2):t._e(),t._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"top-left"},[a("div",[t._v(t._s(e["tradingsymbol"]))])]),t._v(" "),a("div",{staticClass:"top-right"},[a("div",[e["qty"]>0?a("span",{staticClass:"pending-flag"},[t._v("\n\t\t\t\t\t\t\t\t\tOrder received\n\t\t\t\t\t\t\t\t")]):t._e()])])]),t._v(" "),a("div",{staticClass:"middle"},[a("div",{staticClass:"middle-left"},[a("div",[a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"time")))]),t._v(" to "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"time")))])])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"bottom-left"},[a("div",[a("span",{staticClass:"text-light-grey"},[t._v("Floor price")]),t._v(" "+t._s(t._f("inrFormat")(e["floor_price"],3))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"bottom-right"},[e["qty"]>0?a("div",[a("span",{staticClass:"text-light-grey"},[t._v("Bid qty.")]),t._v(" "+t._s(e["qty"]))]):a("div",{staticClass:"no-bids"},[a("span",[t._v("No bids")])])])])],1)})),0):t._e()])]):t._e(),t._v(" "),t.delisting_items.length>0&&!t.initFetch&&!t.ofsError&&(!t.isMobileView||t.isMobileView&&"delisting"===t.activeSection)?a("div",{staticClass:"section table-section"},[t.isMobileView?t._e():a("h2",[t._v("Delisting")]),t._v(" "),a("div",{staticClass:"table-container"},[t.isMobileView?t._e():a("table",{staticClass:"challenge-table ofs-table"},[t._m(5),t._v(" "),a("tbody",t._l(t.delisting_items,(function(e,s){return a("tr",{key:s,on:{mouseleave:function(e){t.showDrop=!1},mouseenter:function(e){t.showDrop=!0}}},[a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e["tradingsymbol"])+"\n\t\t\t\t\t\t\t"),e["qty"]>0?a("span",{staticClass:"pending-flag"},[t._v("\n\t\t\t\t\t\t\t\tOrder received\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),t.showDrop?a("context-menu",{staticClass:"table"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[a("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),a("template",{slot:"menu"},[e["qty"]>0?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCancelModal(e,"delisting")}}},[a("span",{staticClass:"icon icon-trash"}),t._v(" Cancel order")])]):a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCreateOfsModal(e,"delisting")}}},[a("span",{staticClass:"icon icon-chevron-right"}),t._v(" Place order")])])])],2):t._e()],1),t._v(" "),a("td",{staticClass:"text-left"},[a("span",[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"time")))])]),t._v(" "),a("td",{staticClass:"text-left"},[a("span",[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"time")))])]),t._v(" "),a("td",[a("span",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(e["floor_price"],3))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),e["qty"]>0?a("td",[t._v(t._s(e["qty"]))]):a("td",{staticClass:"no-bids"},[a("span",[t._v("No bids")])])])})),0)]),t._v(" "),t.isMobileView?a("div",{staticClass:"section table-section show-on-mobile cards"},t._l(t.delisting_items,(function(e,s){return a("div",{key:s,staticClass:"card",on:{click:function(a){return t.toShowContextMenu(e)}}},[t.contextMenuISIN===e.isin?a("mobile-context-menu",{on:{close:function(a){return t.toHideContextMenu(e)}}},[a("template",{slot:"menu"},[e["qty"]>0?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCancelModal(e,"delisting")}}},[a("span",[a("span",{staticClass:"icon icon-trash"}),t._v(" Cancel order")])])]):a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.computeCreateOfsModal(e,"delisting")}}},[a("span",[a("span",{staticClass:"icon icon-chevron-right"}),t._v(" Place order")])])])])],2):t._e(),t._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"top-left"},[a("div",[t._v(t._s(e["tradingsymbol"]))])]),t._v(" "),a("div",{staticClass:"top-right"},[a("div",[e["qty"]>0?a("span",{staticClass:"pending-flag"},[t._v("\n\t\t\t\t\t\t\t\t\tOrder received\n\t\t\t\t\t\t\t\t")]):t._e()])])]),t._v(" "),a("div",{staticClass:"middle"},[a("div",{staticClass:"middle-left"},[a("div",[a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["start_datetime"],"time")))]),t._v(" to "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"date")))]),t._v(" "),a("span",{staticClass:"text-light-grey"},[t._v(t._s(t._f("dateFilter")(e["cutoff_datetime"],"time")))])])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"bottom-left"},[a("div",[a("span",{staticClass:"text-light-grey"},[t._v("Floor price")]),t._v(" "+t._s(t._f("inrFormat")(e["floor_price"],3))+"\n\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"bottom-right"},[e["qty"]>0?a("div",[a("span",{staticClass:"text-light-grey"},[t._v("Bid qty.")]),t._v(" "+t._s(e["qty"]))]):a("div",{staticClass:"no-bids"},[a("span",[t._v("No bids")])])])])],1)})),0):t._e()])]):!t.fetchingData&&t.ofsError?a("div",[a("error",{attrs:{sub:t.ofsErrorMsg}})],1):t._e(),t._v(" "),0!==t.ofs_items.length||0!==t.buy_back_items.length||0!==t.takeover_items.length||0!==t.delisting_items.length||t.initFetch||t.ofsError?t._e():a("div",{staticClass:"section text-center"},[a("empty",{attrs:{main:"No offers available",sub:""}})],1),t._v(" "),t.showCreateOfs?a("div",{staticClass:"section"},[a("div",{staticClass:"modal-mask unpledge-modal"},[a("div",{staticClass:"modal-wrapper",on:{click:function(e){return e.stopPropagation(),t.hideCreateOfsModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showCreateOfsModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideCreateOfsModal.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("div",{staticClass:"row v-align"},[a("h2",{staticClass:"holdings-breakdown-name"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.selectedOfs)+" for "+t._s(t.orderData.tradingsymbol)+"\n\t\t\t\t\t\t\t")])]),a("hr"),t._v(" "),a("su-form",[a("div",{staticClass:"row"},[a("div",{staticClass:"three columns"},[a("su-input",{attrs:{type:"number",maxlength:8,"static-label":"","no-error":"",label:"Quantity"},model:{value:t.order_qty,callback:function(e){t.order_qty=e},expression:"order_qty"}})],1),t._v(" "),a("div",{staticClass:"three columns"},[t.showPrice?a("su-input",{attrs:{type:"number",disabled:t.isMarket,maxlength:8,"static-label":"","no-error":"",label:"Price"},model:{value:t.order_price,callback:function(e){t.order_price=e},expression:"order_price"}}):t._e()],1),t._v(" "),"OFS"!==t.selectedOfs||t.orderData.non_retail?"OFS"!==t.selectedOfs?a("div",{staticClass:"three columns checkbox-container"},[a("su-checkbox",{attrs:{label:"Floor price"},on:{change:function(e){return t.changeOrder(!1)}},model:{value:t.isMarket,callback:function(e){t.isMarket=e},expression:"isMarket"}}),t._v(" "),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"inline",attrs:{title:"Place order at floor price"}},[a("span",{staticClass:"icon icon-info"})])],1):t._e():a("div",{staticClass:"three columns checkbox-container"},[a("su-checkbox",{attrs:{label:"Cut-off price"},on:{change:function(e){return t.changeOrder(!0)}},model:{value:t.isMarket,callback:function(e){t.isMarket=e},expression:"isMarket"}}),t._v(" "),a("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"inline",attrs:{title:"Place order at cut-off price"}},[a("a",{attrs:{href:"https://support.zerodha.com/category/trading-and-markets/corporate-actions/articles/how-do-i-apply-for-ofs",target:"_blank"}},[a("span",{staticClass:"icon icon-info"})])])],1)]),t._v(" "),a("br"),t._v(" "),a("su-button",{staticClass:"btn-blue",attrs:{type:"submit",processing:t.submitting,disabled:t.submitting},nativeOn:{click:function(e){return e.preventDefault(),t.placeOrder(t.orderData,"ofs")}}},[t._v("Submit")])],1)],1)])])])]):t._e(),t._v(" "),t.showViewOfs?a("div",{staticClass:"section"},[a("div",{staticClass:"modal-mask unpledge-modal"},[a("div",{staticClass:"modal-wrapper",on:{click:function(e){return e.stopPropagation(),t.hideViewOfsModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showViewOfsModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideViewOfsModal.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("div",{staticClass:"row v-align"},[a("h2",{staticClass:"holdings-breakdown-name"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.selectedOfs)+" for "+t._s(t.orderData.tradingsymbol)+"\n\t\t\t\t\t\t\t")])]),a("hr"),a("br"),t._v(" "),t.updating?t._e():a("su-form",t._l(t.pending_ofs_items,(function(e,s){return a("div",{key:s},[e["corporate_action_order_window_id"]!==t.orderData["name"]||t.updating?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"four columns"},[a("su-input",{attrs:{type:"number",disabled:!0,value:e["quantity"],maxlength:8,"static-label":"","no-error":"",label:"Quantity"}})],1),t._v(" "),a("div",{staticClass:"four columns"},[a("su-input",{attrs:{type:"number",disabled:!0,value:t._f("round")(e["price"],3),maxlength:8,"static-label":"","no-error":"",label:"Price"}})],1)]),t._v(" "),a("br"),t._v(" "),a("su-button",{staticClass:"btn-blue",attrs:{type:"submit",processing:t.submitting,disabled:t.submitting},nativeOn:{click:function(a){return a.preventDefault(),t.cancelOrder(e,"ofs")}}},[a("span",{staticClass:"icon icon-trash"}),t._v(" Cancel order")])],1)})),0)],1)])])])]):t._e(),t._v(" "),t.showCreateBuyback?a("div",{staticClass:"section"},[a("div",{staticClass:"modal-mask unpledge-modal"},[a("div",{staticClass:"modal-wrapper",on:{click:function(e){return e.stopPropagation(),t.hideCreateBuybackModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showCreateBuybackModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideCreateBuybackModal.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("div",{staticClass:"row v-align"},[a("h2",{staticClass:"holdings-breakdown-name"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.selectedSection)+" for "+t._s(t.orderData["tradingsymbol"])+"\n\t\t\t\t\t\t\t")])]),a("hr"),a("br"),t._v(" "),a("su-form",[a("div",{staticClass:"row"},[a("div",{staticClass:"four columns"},[a("su-input",{attrs:{type:"number",maxlength:8,"static-label":"","no-error":"",placeholder:"Quantity",label:"Quantity"},model:{value:t.order_qty,callback:function(e){t.order_qty=e},expression:"order_qty"}})],1),t._v(" "),a("div",{staticClass:"four columns"},[a("su-input",{attrs:{type:"text",disabled:!0,"static-label":"","no-error":"",label:"Offer price"},model:{value:t.orderData["floor_price"],callback:function(e){t.$set(t.orderData,"floor_price",e)},expression:"orderData['floor_price']"}})],1)]),t._v(" "),a("br"),t._v(" "),a("su-button",{staticClass:"btn-blue",attrs:{type:"submit",processing:t.submitting,disabled:t.submitting},nativeOn:{click:function(e){return e.preventDefault(),t.placeOrder(t.orderData,t.selectedSection)}}},[t._v("Submit")])],1)],1)])])])]):t._e(),t._v(" "),t.showCancel?a("div",{staticClass:"section"},[a("div",{staticClass:"modal-mask cancel-modal"},[a("div",{staticClass:"modal-wrapper",on:{click:function(e){return e.stopPropagation(),t.hideCancelModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showCancelModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideCancelModal.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("div",{staticClass:"text-center"},[a("p",[t._v("Cancel this order?")]),t._v(" "),a("su-button",{staticClass:"btn-blue",attrs:{type:"submit",processing:t.submitting,disabled:t.submitting},nativeOn:{click:function(e){return e.preventDefault(),t.cancelOrder(t.orderData)}}},[t._v("Confirm")])],1)])])])])]):t._e(),t._v(" "),t.showKiteAuth?a("div",{staticClass:"section"},[a("div",{staticClass:"modal-mask cancel-pledge-modal"},[a("div",{staticClass:"modal-wrapper"},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideKiteAuthModal,expression:"hideKiteAuthModal"}],staticClass:"modal-container"},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideKiteAuthModal.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("div",{staticClass:"text-right"},[t._m(6),t._v(" "),a("su-button",{staticClass:"btn-blue",attrs:{type:"submit"},nativeOn:{click:function(e){return e.preventDefault(),t.invokeKiteAuth()}}},[t._v("Continue")])],1)])])])])]):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notice-new list"},[a("ul",[a("li",[t._v("\n\t\t\t\t\tRead more about "),a("a",{attrs:{href:"https://support.zerodha.com/category/trading-and-markets/corporate-actions/articles/how-do-i-apply-for-ofs",target:"_blank"}},[t._v("OFS")]),t._v(", "),a("a",{attrs:{href:"https://support.zerodha.com/category/trading-and-markets/corporate-actions/articles/how-do-i-apply-for-buy-back",target:"_blank"}},[t._v("buybacks and takeovers")]),t._v(". Delisting orders are accepted higher than floor price as well. There's no option to view the order placed.\n\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v("\n\t\t\t\tRead more about "),a("a",{attrs:{href:"https://support.zerodha.com/category/trading-and-markets/corporate-actions/articles/how-do-i-apply-for-ofs",target:"_blank"}},[t._v("OFS")]),t._v(", "),a("a",{attrs:{href:"https://support.zerodha.com/category/trading-and-markets/corporate-actions/articles/how-do-i-apply-for-buy-back",target:"_blank"}},[t._v("buybacks and takeovers")]),t._v(". Delisting orders are accepted higher than floor price as well. There's no option to view the order placed.\n\t\t\t")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tSymbol\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tOffer start date\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tOffer end date\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\tFloor price\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\tBid qty.\n\t\t\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tSymbol\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tOffer start date\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tOffer end date\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\tOffer price\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\tBid qty.\n\t\t\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tSymbol\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tOffer start date\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tOffer end date\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\tOffer price\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\tBid qty.\n\t\t\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tSymbol\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tOffer start date\n\t\t\t\t\t\t")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tOffer end date\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\tFloor price\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\tBid qty.\n\t\t\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-left"},[t._v("You have to authorise this stock/MF unit at CDSL (your Demat depository) to complete the sell transaction as per new regulations. "),a("a",{attrs:{target:"_blank",href:"https://support.zerodha.com/category/trading-and-markets/trading-faqs/articles/generate-cdsl-tpin"}},[t._v("Learn more.")])])}],i=a("8508"),o=a.n(i),r=a("02bc"),l=a("2e34"),c=a("6825"),d=a("e2ac"),A=a("5dfe"),u=a("1c42"),g=a("3fb9"),p=a("2f62"),f=a("ba6a"),v=a("5665");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){_(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var C={data:function(){return{ofs_items:[],pending_ofs_items:[],buy_back_items:[],takeover_items:[],delisting_items:[],fetchingData:!1,ofsError:!1,ofsErrorMsg:"Please try again",orderData:{},order_price:0,order_qty:0,submitting:!1,ofsType:"pledge",showDrop:!0,showCreateOfs:!1,showCreateBuyback:!1,showViewOfs:!1,initFetch:!1,showCancel:!1,isMarket:!1,showPrice:!0,selectedSection:"Buyback",selectedOfs:"OFS",updating:!1,isConsent:!1,showKiteAuth:!1,requestID:"",contextMenuISIN:"",activeSection:"",availableActive:{ofs:!1,buyback:!1,takeover:!1,delisting:!1}}},computed:m({},Object(p["c"])(["isMobileView"])),mounted:function(){var t=this;window.addEventListener("keyup",(function(e){27===e.keyCode&&(t.hideViewOfsModal(),t.hideCreateOfsModal(),t.hideCreateBuybackModal(),t.hideCancelModal())}));var e=document.createElement("script");e.setAttribute("src","https://kite.trade/publisher.js?v=3"),document.head.appendChild(e),this.getActiveStocks()},methods:{displayTab:function(t){this.activeSection=t},toShowContextMenu:function(t){this.contextMenuISIN=t.isin},toHideContextMenu:function(t){this.contextMenuISIN=""},showKiteAuthModal:function(){this.showKiteAuth=!0},hideKiteAuthModal:function(){this.showKiteAuth=!1},invokeKiteAuth:function(){this.showKiteAuth=!1;var t=this;try{KiteConnect.ready((function(){var e=new KiteConnect("console");e.authHoldings(t.requestID,(function(){t.$toast.success({message:"Authorization successful. Please re-initiate the transaction.",orientation:t.$toast.TOP_RIGHT,duration:6e3})}))}))}catch(e){this.$toast.error({message:"Something went wrong. Please try again.",orientation:this.$toast.TOP_RIGHT,duration:6e3})}},changeOrder:function(t){var e=this;this.showPrice=!1,this.$nextTick((function(){e.order_price=e.orderData["floor_price"]?parseFloat(parseFloat(e.orderData["floor_price"]).toFixed(3)):0,e.showPrice=!0}))},getActiveStocks:function(){var t=this;this.initFetch=!0,this.fetchingData=!0,this.ofsError=!1,f["a"].request("GET",!1,v["a"].getCAOrderWindows,null,(function(e,a){if("SUCCESS"===e.toUpperCase()){for(var s=a.data.data.result,n=0;n<s.length;n++)"OFS"===s[n]["trade_type"].toUpperCase()?(t.ofs_items.push(s[n]),t.activeSection="ofs"):"BUYBACK"===s[n]["trade_type"].toUpperCase()?(t.buy_back_items.push(s[n]),""===t.activeSection&&(t.activeSection=s[n]["trade_type"].toLowerCase())):"TAKEOVER"===s[n]["trade_type"].toUpperCase()?(t.takeover_items.push(s[n]),""===t.activeSection&&(t.activeSection=s[n]["trade_type"].toLowerCase())):"DELISTING"===s[n]["trade_type"].toUpperCase()&&(t.delisting_items.push(s[n]),""===t.activeSection&&(t.activeSection=s[n]["trade_type"].toLowerCase())),t.availableActive[s[n]["trade_type"].toLowerCase()]=!0,s[n]["qty"]=0;t.getPendingRequests()}else"FAILURE"===e.toUpperCase()?(t.fetchingData=!1,t.ofsError=!0,t.$toast.error({message:"Error fetching open order windows: "+a.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3})):(t.fetchingData=!1,t.ofsError=!0,t.$toast.error({message:"Error fetching open order windows:"+f["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3}))}))},getPendingRequests:function(){var t=this;this.fetchingData=!0,this.ofsError=!1,f["a"].request("GET",!1,v["a"].getCAOrders,null,(function(e,a){if(t.submitting=!1,t.hideCreateOfsModal(),t.hideCreateBuybackModal(),t.hideCancelModal(),t.hideViewOfsModal(),t.initFetch=!1,t.fetchingData=!1,"SUCCESS"===e.toUpperCase()){var s=a.data.data.result;t.pending_ofs_items=[];for(var n=0;n<t.ofs_items.length;n++){t.ofs_items[n]["qty"]=0;for(var i=0;i<s.length;i++)s[i]["corporate_action_order_window_id"]===t.ofs_items[n]["name"]&&(t.pending_ofs_items.push(s[i]),t.ofs_items[n]["qty"]+=s[i]["quantity"])}for(var o=0;o<t.buy_back_items.length;o++){t.buy_back_items[o]["qty"]=0;for(var r=0;r<s.length;r++)s[r]["corporate_action_order_window_id"]===t.buy_back_items[o]["name"]&&(t.buy_back_items[o]["qty"]=s[r]["quantity"],t.buy_back_items[o]["cancel_id"]=s[r]["name"],t.buy_back_items[o]["order_window_id"]=s[r]["corporate_action_order_window_id"])}for(var l=0;l<t.takeover_items.length;l++){t.takeover_items[l]["qty"]=0;for(var c=0;c<s.length;c++)s[c]["corporate_action_order_window_id"]===t.takeover_items[l]["name"]&&(t.takeover_items[l]["qty"]=s[c]["quantity"],t.takeover_items[l]["cancel_id"]=s[c]["name"],t.takeover_items[l]["order_window_id"]=s[c]["corporate_action_order_window_id"])}for(var d=0;d<t.delisting_items.length;d++){t.delisting_items[d]["qty"]=0;for(var A=0;A<s.length;A++)s[A]["corporate_action_order_window_id"]===t.delisting_items[d]["name"]&&(t.pending_ofs_items.push(s[A]),t.delisting_items[d]["cancel_id"]=s[A]["name"],t.delisting_items[d]["qty"]+=s[A]["quantity"])}}else"FAILURE"===e.toUpperCase()?(t.fetchingData=!1,t.ofsError=!0,t.$toast.error({message:"Error fetching orders: "+a.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3})):(t.fetchingData=!1,t.ofsError=!0,t.$toast.error({message:"Error fetching orders:"+f["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3}))}))},placeOrder:function(t,e){var a=this;if(this.requestID="",this.order_qty>0)if(parseFloat(this.order_price)>=parseFloat(this.orderData["floor_price"])){this.submitting=!0;var s={};s["quantity"]=parseFloat(this.order_qty),s["price"]=parseFloat(this.order_price),s["isin"]=t["isin"],s["trade_type"]=t["trade_type"],s["order_window_id"]=t["name"],"ofs"===e&&(this.isMarket?s["mkt"]=1:s["mkt"]=0),f["a"].request("POST",!1,v["a"].postCAOrder,s,(function(t,e){"SUCCESS"===t.toUpperCase()?(a.$toast.success({message:"Order placed successfully",orientation:a.$toast.TOP_RIGHT,duration:6e3}),a.getPendingRequests()):"FAILURE"===t.toUpperCase()?(a.submitting=!1,a.hideCreateOfsModal(),a.hideCreateBuybackModal(),428===e.status&&e.data.message?(a.requestID=e.data.message,a.showKiteAuthModal()):a.$toast.error({message:"Error placing order: "+e.data.message,orientation:a.$toast.TOP_RIGHT,duration:6e3})):(a.submitting=!1,a.hideCreateOfsModal(),a.hideCreateBuybackModal(),a.$toast.error({message:"Error placing order:"+f["a"].errorMessage(),orientation:a.$toast.TOP_RIGHT,duration:6e3}))}))}else"ofs"===e?this.$toast.warning({message:"Order can't be placed below cut-off price. <a href='https://support.zerodha.com/category/trading-and-markets/corporate-actions/articles/cut-off-ofs'>Read more</a>.",orientation:this.$toast.TOP_RIGHT,duration:1e4}):this.$toast.warning({message:"Order can't be placed below floor price.",orientation:this.$toast.TOP_RIGHT,duration:6e3});else this.$toast.warning({message:"Please enter a valid quantity.",orientation:this.$toast.TOP_RIGHT,duration:6e3})},cancelOrder:function(t){var e=this;this.requestID="",this.submitting=!0;var a={};t["cancel_id"]?a["ca_order_id"]=t["cancel_id"]:a["ca_order_id"]=t["name"],f["a"].request("PUT",!1,v["a"].cancelCAOrder,a,(function(t,a){"SUCCESS"===t.toUpperCase()?(e.getPendingRequests(),e.$toast.success({message:"Order cancelled successfully",orientation:e.$toast.TOP_RIGHT,duration:6e3})):"FAILURE"===t.toUpperCase()?(e.submitting=!1,e.hideCancelModal(),e.hideViewOfsModal(),428===a.status&&a.data.message?(e.requestID=a.data.message,e.showKiteAuthModal()):e.$toast.error({message:"Error cancelling order: "+a.data.message,orientation:e.$toast.TOP_RIGHT,duration:6e3})):(e.submitting=!1,e.hideCancelModal(),e.hideViewOfsModal(),e.$toast.error({message:"Error cancelling order:"+f["a"].errorMessage(),orientation:e.$toast.TOP_RIGHT,duration:6e3}))}))},computeViewOfsModal:function(t){this.orderData=t,this.showViewOfsModal()},showViewOfsModal:function(){this.showViewOfs=!0},hideViewOfsModal:function(){this.showViewOfs=!1},computeCreateOfsModal:function(t,e){e&&"OFS"===e.toUpperCase()?this.selectedOfs=e.toUpperCase():this.selectedOfs=e.charAt(0).toUpperCase()+e.slice(1),this.orderData=t,this.order_qty=0,this.order_price=parseFloat(parseFloat(t["floor_price"]).toFixed(3)),this.showCreateOfsModal()},showCreateOfsModal:function(){this.showCreateOfs=!0},hideCreateOfsModal:function(){this.showCreateOfs=!1},computeCreateBuybackModal:function(t,e){this.selectedSection=e.charAt(0).toUpperCase()+e.slice(1),this.orderData=t,this.order_qty=0,this.order_price=parseFloat(parseFloat(t["floor_price"]).toFixed(3)),this.showCreateBuybackModal()},showCreateBuybackModal:function(){this.showCreateBuyback=!0},hideCreateBuybackModal:function(){this.showCreateBuyback=!1},computeCancelModal:function(t,e){this.selectedSection=e.charAt(0).toUpperCase()+e.slice(1),this.orderData=t,this.showCancelModal()},showCancelModal:function(){this.showCancel=!0},hideCancelModal:function(){this.showCancel=!1}},components:{datepicker:o.a,jobber:l["a"],"su-button":A["a"],"su-checkbox":u["a"],empty:r["a"],"context-menu":c["a"],"mobile-context-menu":d["a"],error:g["default"]}},b=C,y=a("2877"),w=Object(y["a"])(b,s,n,!1,null,null,null);e["default"]=w.exports},"37bf":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-box",attrs:{holding:t.holding,tags:t.tags,target:t.target,isAll:t.isAll}},[t.tags.length?a("div",[a("div",{class:{"filter-link":!0,active:t.selectedFiltersModal},on:{click:function(e){return e.stopPropagation(),t.showSelectedFilters.apply(null,arguments)}}},[a("vue-tags-input",{class:{"is-all":t.isAll,"border-input":!t.selectedFiltersModal},attrs:{"add-only-from-autocomplete":!0,"max-tags":10,maxlength:20,tags:t.selectedTags,placeholder:t.placeholder,"autocomplete-items":t.tagOptions},on:{"tags-changed":function(e){return t.selectedTags=e}},scopedSlots:t._u([{key:"autocomplete-item",fn:function(e){return a("div",{staticClass:"my-item",on:{click:function(a){return t.addTag(e.item)}}},[e.item.id?a("span",{staticClass:"auto-name",style:"color:"+e.item.colour+";background:"+t.getBackground(e.item.colour)},[t._v(t._s(e.item.text))]):a("span",{staticClass:"auto-name"},[t._v(t._s(e.item.text))])])}},{key:"tag-center",fn:function(e){return a("div",{staticClass:"my-tag-left",on:{click:function(a){return t.showCreateBox(!0,e)}}},[e.tag.client_id&&"SYSTEM"!==e.tag.client_id&&!e.tag.isPending?a("span",{staticClass:"icon icon-edit edit-tag-icon"}):t._e(),t._v(" "),e.tag.client_id&&e.tag.isPending?a("span",{staticClass:"icon icon-clock"}):t._e(),t._v("\n\t\t\t\t\t"+t._s(e.tag.text)+"\n\t\t\t\t")])}}],null,!1,4171474481),model:{value:t.tagsFilter,callback:function(e){t.tagsFilter=e},expression:"tagsFilter"}}),t._v(" "),t.isAll?a("a",{staticClass:"tags-nudge-link",attrs:{target:"_blank",href:"https://support.zerodha.com/category/trading-and-markets/kite-features/tags/articles/add-tags-on-console"}},[a("span",{staticClass:"icon icon-info"})]):t._e()],1),t._v(" "),a("div",{staticClass:"filter-option-container"},[a("div",{class:{"filter-option":!0,show:t.selectedFiltersModal},on:{click:function(e){return e.stopPropagation(),t.showSelectedFilters.apply(null,arguments)}}},[a("div",{staticClass:"filters"},[a("hr",{staticClass:"all-filter-hr"}),t._v(" "),t._l(t.tags,(function(e,s){return e.client_id&&"SYSTEM"!==e.client_id.toUpperCase()&&!t.selectedTags.find((function(t){return t.id===e.id}))?a("div",{key:s+"-o2",staticClass:"filters-list"},[a("label",{class:"checks type "+t.paletteMap[e.colour],on:{click:function(a){return t.addTag(e)}}},[t._v(t._s(e.text))])]):t._e()})),t._v(" "),a("label",{staticClass:"create-tag-cloud",on:{click:function(e){return t.showCreateBox()}}},[t._v("+ New tag")])],2)])])]):a("div",[a("a",{attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showCreateBox.apply(null,arguments)}}},[t._v("+ Create and apply tag to all trades")])]),t._v(" "),t.showCreate?a("div",{staticClass:"section tagger"},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper",on:{click:t.hideCreateBox}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showCreateBox("a")}}},[a("div",{staticClass:"modalbody",on:{click:t.hidePalette}},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideCreateBox.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),t.editing?a("h2",{staticClass:"row v-align"},[a("div",{staticClass:"eight columns"},[a("span",{staticClass:"icon icon-edit"}),t._v(" "),a("span",[t._v('Edit "'+t._s(t._f("clip")(t.newTag.text))+'"')])]),t._v(" "),a("div",{staticClass:"four columns text-right"},[a("su-button",{staticClass:"btn-grey btn-outline",attrs:{disabled:t.deleting,processing:t.deleting},nativeOn:{click:function(e){return e.preventDefault(),t.showConfirmationBox.apply(null,arguments)}}},[a("span",{staticClass:"icon icon-trash"}),t._v("\n\t\t\t\t\t\t\t\t\tDelete tag\n\t\t\t\t\t\t\t\t")])],1)]):a("h2",[t._v("New tag")]),t._v(" "),a("su-form",{ref:"create_tag_form",attrs:{id:"create_tag_form"}},[a("div",{staticClass:"create-tag-color"},[a("label",[t._v(" ")]),a("br"),t._v(" "),a("div",{staticClass:"selected-color",on:{click:function(e){e.stopPropagation(),t.showPalette=!0}}},[a("span",{style:"background-color:"+t.newTag.colour},[t._v(" ")]),t._v(" "),a("span",[t._v("Color")])]),t._v(" "),t.showPalette?a("div",{staticClass:"color-palette"},t._l(t.palette,(function(e,s){return a("span",{key:s,staticClass:"palette-colors",style:"background:"+e,on:{click:function(a){return t.changeColor(e)}}},[t._v(" ")])})),0):t._e()]),a("div",{staticClass:"create-tag-name"},[a("su-input",{attrs:{id:"create_tag_name",type:"text",autofocus:"",pattern:"\\s*(\\S\\s*){3,}",oninput:"this.setCustomValidity('')",maxlength:15,oninvalid:"this.setCustomValidity('Please fill in this field')",label:"Tag",placeholder:"Tag",rules:t.rules.tagName},model:{value:t.newTag.text,callback:function(e){t.$set(t.newTag,"text",e)},expression:"newTag.text"}})],1),a("br"),t._v(" "),a("div",{staticClass:"create-tag-desc row"},[a("div",{staticClass:"eight columns"},[a("su-input",{attrs:{pattern:"\\s*(\\S\\s*){6,}",oninvalid:"this.setCustomValidity('Please fill in this field')",oninput:"this.setCustomValidity('')",type:"text",maxlength:140,minlength:6,label:"Description",placeholder:"Description",rules:t.rules.tagDesc},model:{value:t.newTag.description,callback:function(e){t.$set(t.newTag,"description",e)},expression:"newTag.description"}})],1),t._v(" "),a("div",{staticClass:"four columns su-input-group"},[a("label",{staticClass:"su-input-label"},[t._v(" ")]),t._v(" "),t.editing?a("su-button",{staticClass:"btn btn-blue",attrs:{type:"submit",disabled:t.creatingTag,processing:t.creatingTag},nativeOn:{click:function(e){return e.preventDefault(),t.createTag(!0)}}},[t._v("Update")]):a("su-button",{staticClass:"btn btn-blue",attrs:{type:"submit",disabled:t.creatingTag,processing:t.creatingTag},nativeOn:{click:function(e){return e.preventDefault(),t.createTag()}}},[t._v("Save")])],1)])])],1)])])])]):t._e(),t._v(" "),t.showConfirmation?a("div",{staticClass:"section tagger"},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper",on:{click:t.hideConfirmationBox}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showConfirmationBox.apply(null,arguments)}}},[a("div",{staticClass:"modalbody",on:{click:function(e){return e.stopPropagation(),t.hidePalette.apply(null,arguments)}}},[a("h4",{staticClass:"text-center"},[t._v('Are you sure you want to delete "'+t._s(t.newTag.tag_name)+'" ?')]),a("br"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"six columns text-right"},[a("su-button",{staticClass:"btn btn-blue",attrs:{type:"submit"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteTag()}}},[t._v("Delete")])],1),t._v(" "),a("div",{staticClass:"six columns"},[a("su-button",{staticClass:"btn-grey btn-outline",attrs:{type:"submit"},nativeOn:{click:function(e){return e.preventDefault(),t.hideConfirmationBox.apply(null,arguments)}}},[t._v("Cancel")])],1)])])])])])]):t._e(),t._v(" "),t.showTagManager?a("div",{staticClass:"section"},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper",on:{click:t.hideTagManagerModal}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showTagManagerModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideTagManagerModal.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("tag-manager",{attrs:{isModal:!0}})],1)])])])]):t._e()])},n=[],i=a("5975"),o=a("c7a0"),r=a.n(o),l=a("ba6a"),c=a("5665"),d=a("2f62"),A=a("6157");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={name:"tagger",data:function(){var t=function(t,e){return e&&e.trim().length<3?new Error("Minimum characters required: 3"):e&&e.length>15?new Error("Maximum characters allowed: 15"):void 0},e=function(t,e){return e&&e.trim().length<6?new Error("Minimum characters required: 6"):e&&e.length>140?new Error("Maximum characters allowed: 140"):void 0};return{tagsFilter:"",selectedTags:[],newTag:{text:"",type:"custom",classes:"custom-tag ",value:"",colour:"rgba(3, 155, 229, 1)",description:""},showCreate:!1,hasChanged:!1,showPalette:!1,palette:["rgba(3, 155, 229, 1)","rgba(11, 128, 67, 1)","rgba(63, 81, 181, 1)","rgba(244, 81, 30, 1)","rgba(121, 85, 72, 1)","rgba(124, 179, 66, 1)","rgba(240, 147, 0, 1)","rgba(142, 36, 170, 1)","rgba(97, 97, 97, 1)","rgba(255, 205, 86, 1)"],paletteMap:{"rgba(3, 155, 229, 1)":"p1","rgba(11, 128, 67, 1)":"p2","rgba(63, 81, 181, 1)":"p3","rgba(244, 81, 30, 1)":"p4","rgba(121, 85, 72, 1)":"p5","rgba(124, 179, 66, 1)":"p6","rgba(240, 147, 0, 1)":"p7","rgba(142, 36, 170, 1)":"p8","rgba(97, 97, 97, 1)":"p9","rgba(255, 205, 86, 1)":"p10"},creatingTag:!1,editing:!1,deleting:!1,selectedFiltersModal:!1,showConfirmation:!1,rules:{tagName:[{validator:t,required:!0}],tagDesc:[{validator:e,required:!0}]},showTagManager:!1}},props:{holding:{type:Object},target:{type:"String"},tags:{type:Array},loader:{type:Boolean,default:!1},placeholder:{type:String,default:"+ Apply tags to all trades"},isAll:{type:Boolean,default:!0}},computed:{tagOptions:function(){var t=this;if(this.tags){var e=this.tags.filter((function(e){return-1!==e.text.toLowerCase().indexOf(t.tagsFilter.toLowerCase())&&"SYSTEM"!==e.client_id.toUpperCase()}));return e.push({text:"+  New tag"}),e}}},watch:{"newTag.text":function(t){this.newTag.text=t.toLowerCase().trim().replace(" ","-")},selectedTags:function(t,e){var a=this;if(this.$emit("changed",!0),t.length)if(t[t.length-1].hasOwnProperty("value")){if(t.length===this.holding.tags.length)for(var s=function(e){var s=t.filter((function(t){return t.id===a.holding.tags[e].id}));if(0===s.length)return a.hasChanged=!0,"break"},n=0;n<this.holding.tags.length;n++){var i=s(n);if("break"===i)break}else this.hasChanged=!0,this.compareArrays(t,e)||this.hideCreateBox();var o=document.querySelector(".breakdown-tag-container");if(o){var r=o.querySelector(".tagger").querySelector(".vue-tags-input"),l=o.querySelector(".tagger").querySelector(".filters");r&&l&&this.$nextTick((function(){var t=o.querySelector(".tagger").querySelector(".vue-tags-input").offsetHeight;l.style.paddingTop=t>45?t+7+"px":"45px"}))}}else this.showCreateBox("b"),this.selectedTags.pop()},tagsFilter:function(t){t&&t.trim()&&(this.newTag.text=t,this.hideSelectedFilters())}},components:{VueTagsInput:r.a,TagManager:A["default"],"su-loader":i["a"]},mounted:function(){var t=this;if(this.selectedFiltersModal=!1,this.holding&&this.holding.tags?this.selectedTags=JSON.parse(JSON.stringify(this.holding.tags)):this.fetchTags(!1,!0),this.holding&&this.holding.pendingTag){var e=function(e){var a=t.selectedTags.findIndex((function(a){return a.id===t.holding.pendingTags[e].id}));if(-1===a){var s=t.holding.pendingTags[e];s["isPending"]=!0,s["classes"]+=" pending",t.selectedTags.push(s)}else t.selectedTags[a]["isPending"]=!0};for(var a in this.holding.pendingTags)e(a)}},methods:g(g({},Object(d["d"])(["setConsoleTags"])),{},{showTagManagerModal:function(){this.showTagManager=!0},hideTagManagerModal:function(){this.showTagManager=!1},compareArrays:function(t,e){return t.length===e.length&&t.every((function(t,a){return t===e[a]}))},addTag:function(t){var e=this;if(t){var a=this.selectedTags.find((function(e){return e.id===t.id}));a||this.selectedTags.push(t)}else{var s=function(t){var a=e.selectedTags.find((function(a){return a.id===e.tags[t].id}));a||"SYSTEM"===e.tags[t].client_id||e.selectedTags.push(e.tags[t])};for(var n in this.tags)s(n);this.showSelectedFilters()}},showSelectedFilters:function(){var t=this;this.$nextTick((function(){t.selectedFiltersModal=!0}))},hideSelectedFilters:function(){var t=this;this.$nextTick((function(){t.selectedFiltersModal=!1}))},getBackground:function(t){if(t){var e=t.replace("1)","0.1)");return e}return"rgba(68, 68, 68, 0.1)"},showCreateBox:function(t,e){this.showCreate||(this.showCreate=!0,!0===t&&(this.editing=!0,this.newTag=e.tag),this.$emit("creating",!0))},hideCreateBox:function(){this.showCreate=!1,this.newTag={text:"",type:"custom",classes:"custom-tag ",value:"",colour:"rgba(3, 155, 229, 1)",description:""},this.$emit("creating",!1)},hidePalette:function(){this.showPalette=!1},changeColor:function(t){this.newTag.colour=t},createTag:function(t){var e=this;if(this.$refs["create_tag_form"]&&this.$refs["create_tag_form"].validate()){t||(this.newTag.classes+=this.paletteMap[this.newTag.colour]),this.creatingTag=!0;var a={tag_name:this.newTag.text,description:this.newTag.description,colour:this.newTag.colour},s=c["a"].createTag,n="POST";!0===t&&(a["tag_id"]=parseInt(this.newTag.id),s=c["a"].editTag,n="PUT"),l["a"].request(n,!1,s,a,(function(a,s){"SUCCESS"===a.toUpperCase()?e.fetchTags(t):"FAILURE"===a.toUpperCase()?(e.creatingTag=!1,e.$toast.error({message:"Error updating tags: "+s.data.message,orientation:e.$toast.TOP_RIGHT,duration:6e3})):(e.creatingTag=!1,e.$toast.error({message:"Error updating tags:"+l["a"].errorMessage(),orientation:e.$toast.TOP_RIGHT,duration:6e3}))}))}},fetchTags:function(t,e){var a=this;l["a"].request("GET",!1,c["a"].getTags,null,(function(s,n){if(a.creatingTag=!1,a.deleting=!1,"SUCCESS"===s.toUpperCase()){for(var i=n.data.data.result,o=0;o<i.length;o++)"SYSTEM"===i[o].client_id.toUpperCase()?(i[o]["type"]="system",i[o]["classes"]="system-tag"):(i[o]["type"]="custom",i[o]["classes"]="custom-tag "+a.paletteMap[i[o].colour]),i[o]["text"]=i[o].tag_name,i[o]["value"]=i[o].id;if(a.setConsoleTags(i),!e){var r=i.find((function(t){return t.tag_name===a.newTag.text}));if(r){if(t)for(var c in a.selectedTags)parseInt(a.selectedTags[c]["id"])===parseInt(r.id)&&(a.selectedTags[c]=r);else a.selectedTags.push(r);t?a.$toast.success({message:"Tag updated.",orientation:a.$toast.TOP_RIGHT,duration:6e3}):a.$toast.success({message:"Tag created.",orientation:a.$toast.TOP_RIGHT,duration:6e3})}else{var d=a.selectedTags.findIndex((function(t){return t.tag_name===a.newTag.text}));-1!==d&&a.selectedTags.splice(d),a.deleting=!1,a.$toast.success({message:"Tag deleted.",orientation:a.$toast.TOP_RIGHT,duration:6e3})}t&&a.$emit("tag-updated",i),a.hideCreateBox()}}else"FAILURE"===s.toUpperCase()?a.$toast.error({message:"Error fetching tags: "+n.data.message,orientation:a.$toast.TOP_RIGHT,duration:6e3}):a.$toast.error({message:"Error fetching tags:"+l["a"].errorMessage(),orientation:a.$toast.TOP_RIGHT,duration:6e3})}))},postTag:function(){for(var t={},e=[],a=0;a<this.selectedTags.length;a++)e.push(this.selectedTags[a]["id"]);t["target_id"]=this.holding.instrument_id,t["tag_ids"]=e,this.$emit("tag-posted",t)},deleteTag:function(){var t=this;this.deleting=!0,this.$nextTick((function(){t.hideConfirmationBox()}));var e=[];e.push(parseInt(this.newTag.id)),l["a"].request("PUT",!1,c["a"].deleteTag,{tag_ids:e},(function(e,a){"SUCCESS"===e.toUpperCase()?t.fetchTags(!0):"FAILURE"===e.toUpperCase()?(t.deleting=!1,t.$toast.error({message:"Error deleting tags: "+a.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3})):(t.deleting=!1,t.$toast.error({message:"Error deleting tags:"+l["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3}))}))},showConfirmationBox:function(){this.showConfirmation=!0},hideConfirmationBox:function(){this.showConfirmation=!1}})},v=f,h=a("2877"),m=Object(h["a"])(v,s,n,!1,null,null,null);e["a"]=m.exports},"7c2a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container positions"},[t.isMobileView?t._e():a("h1",[a("span",{staticClass:"icon icon-file-text"}),t._v("\n\t\tPositions\n\t")]),t._v(" "),t.isMobileView?t._e():a("hr",{staticClass:"header-hr"}),t._v(" "),t.isMobileView?a("div",{staticClass:"inputs-collapsed"},[a("div",{staticClass:"date",on:{click:function(e){return t.toggleInputContainer()}}},[a("span",[t._v(t._s(t.formatDate(t.date)))])]),t._v(" "),a("div",{staticClass:"filters"},[a("span",{staticClass:"filter-category",on:{click:function(e){return t.toggleInputContainer()}}},[t._v(t._s(t.segmentMap[t.segment]))]),t._v(" "),t._l(t.selectedTags.slice(0,3),(function(e,s){return a("span",{key:s,staticClass:"filter-filter",style:"background:"+t.getBackground(e)+";color:"+t.getColor(e),on:{click:function(e){return t.toggleInputContainer()}}},[t._v(t._s(e.text))])})),t._v(" "),t.selectedTags.length>3?a("span",{staticClass:"filter-more",on:{click:function(e){return t.toggleInputContainer()}}},[t._v("+ "+t._s(t.selectedTags.length-3)+" tags")]):t._e()],2)]):t._e(),t._v(" "),!t.isMobileView||t.noResults||t.positionsError?t._e():a("div",{staticClass:"grey-back-mobile"},[t._v(" ")]),t._v(" "),a("div",{class:"section"+(t.isMobileView?" mobile-input-container hidden":"")},[t.isMobileView?a("div",[a("span",{staticClass:"hide-mobile-input",on:{click:function(e){return t.toggleInputContainer()}}},[a("span",{staticClass:"icon icon-arrow-left"})]),t._v(" "),a("h2",{staticClass:"text-center"},[t._v("\n\t\t\t\tSearch and filter\n\t\t\t")])]):t._e(),t._v(" "),a("su-form",[a("div",{class:{locked:t.job||t.fetchingData,inputcontainer:!0,row:!0}},[a("div",{class:{two:!0,columns:!0,lockContainer:t.job||t.fetchingData,"su-input-group  su-static-label":!0}},[t.job||t.fetchingData?a("div",{staticClass:"input-lock"}):t._e(),t._v(" "),a("label",{staticClass:"su-input-label"},[t._v("Segment")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.segment,expression:"segment"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.segment=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Select segment")]),t._v(" "),a("option",{attrs:{value:"FO"}},[t._v("Futures & Options")]),t._v(" "),a("option",{attrs:{value:"CDS"}},[t._v("Currency")]),t._v(" "),a("option",{attrs:{value:"COM"}},[t._v("Commodity")])])]),t._v(" "),t.isMobileView?a("div",{class:{two:!0,columns:!0,lockContainer:t.job||t.fetchingData,"su-input-group  su-static-label":!0}},[t.job||t.fetchingData?a("div",{staticClass:"input-lock"}):t._e(),t._v(" "),a("label",{staticClass:"su-input-label"},[t._v("Date")]),t._v(" "),a("input",{attrs:{id:"positions_date"}})]):a("div",{class:{two:!0,columns:!0,lockContainer:t.job||t.fetchingData,"su-input-group  su-static-label":!0}},[t.job||t.fetchingData?a("div",{staticClass:"input-lock"}):t._e(),t._v(" "),a("label",{staticClass:"su-input-label"},[t._v("Date")]),t._v(" "),a("datepicker",{attrs:{format:t.format,"not-before":"2017-04-01","not-after":t.reportEndDate,lang:"en",placeholder:"Date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("div",{class:{three:!0,columns:!0,"filter-component":!0,lockContainer:t.job||t.fetchingData,"su-input-group  su-static-label":!0}},[t.job||t.fetchingData?a("div",{staticClass:"input-lock"}):t._e(),t._v(" "),a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideSelectedTags,expression:"hideSelectedTags"}],staticClass:"filter-field"},[a("label",{staticClass:"su-input-label"},[t._v("Tags")]),t._v(" "),a("div",{class:{"filter-box tagger":!0,"all-tags-added-container":t.allTagsAdded}},[a("div",{staticClass:"filter-link",on:{click:function(e){return e.stopPropagation(),t.showSelectedTags.apply(null,arguments)}}},[a("vue-tags-input",{class:{"main-input":!0,"all-tags-added":t.allTagsAdded},attrs:{"add-only-from-autocomplete":!0,"max-tags":5,maxlength:20,tags:t.selectedTags,placeholder:"Filter by tags","autocomplete-items":t.filteredItems},on:{"tags-changed":function(e){return t.selectedTags=e}},scopedSlots:t._u([{key:"autocomplete-item",fn:function(e){return a("div",{staticClass:"my-item",on:{click:function(t){return e.performAdd(e.item)}}},[a("span",{staticClass:"auto-name",style:"color:"+e.item.colour+";background:"+t.getBackground(e.item)},[t._v(t._s(e.item.text))]),t._v(" "),a("span",{class:"auto-label "+e.item.type},[t._v(t._s(e.item.type))])])}},{key:"tag-center",fn:function(e){return t.allTagsAdded?a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\tFilter by all tags\n\t\t\t\t\t\t\t\t\t")]):a("div",{staticClass:"my-tag-left"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.tag.text)+"\n\t\t\t\t\t\t\t\t\t")])}}],null,!0),model:{value:t.positionsFilter,callback:function(e){t.positionsFilter=e},expression:"positionsFilter"}}),t._v(" "),t.selectedTags.length>0?a("span",{staticClass:"clear icon icon-times",on:{click:function(e){return t.resetSearch(!0)}}}):t._e()],1),t._v(" "),a("div",{staticClass:"filter-option-container main-input"},[a("div",{class:{"filter-option":!0,show:t.selectedTagsModal}},[a("div",{staticClass:"filters"},[t._l(t.consoleTags,(function(e,s){return e.client_id&&"SYSTEM"!==e.client_id.toUpperCase()&&!t.selectedTags.find((function(t){return t.id===e.id}))?a("div",{key:s+"-l",staticClass:"filters-list"},[a("label",{class:"checks type "+t.paletteMap[e.colour],on:{click:function(a){return t.addTag(e)}}},[t._v(t._s(e.text))])]):t._e()})),t._v(" "),a("a",{staticClass:"manage-tags-link",attrs:{href:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.showTagManagerModal.apply(null,arguments)}}},[a("span",{staticClass:"icon icon-bookmark"}),t._v(" Manage tags\n\t\t\t\t\t\t\t\t\t\t")])],2)])])])])]),t._v(" "),a("div",{class:{one:!0,columns:!0,lockContainer:t.job||t.fetchingData,"text-center":!0}},[a("label",[t._v(" ")]),a("br"),t._v(" "),t.job||t.fetchingData?t._e():a("su-button",{staticClass:"btn-blue",attrs:{type:"submit"},nativeOn:{click:function(e){return e.preventDefault(),t.getPositionsData(t.segment,t.date)}}},[t.isMobileView?a("span",[t._v("Search")]):a("span",{staticClass:"icon icon-arrow-right"})]),t._v(" "),t.isMobileView?a("br"):t._e(),t._v(" "),t.isMobileView?a("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.resetSearch("all")}}},[t._v("Reset")]):t._e(),t._v(" "),t.job||t.fetchingData?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"lock-img-container",attrs:{title:"Please wait while your report is being built"}},[a("img",{staticClass:"lock-class",attrs:{src:"/static/images/lock.svg"}}),t._v(" "),a("su-loader")],1):t._e()],1)])])],1),t._v(" "),t.positions_items.length>0&&!t.job&&!t.fetchingData&&!t.positionsError?a("div",{staticClass:"section"},[t.isFilteredByTags&&!t.isMobileView?a("p",{staticClass:"search-helper"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Clear filters",href:"#"},on:{click:function(e){return e.preventDefault(),t.resetSearch.apply(null,arguments)}}},[a("span",{staticClass:"icon icon-arrow-left"})]),t._v("\n\t\t\tShowing results for "),t._l(t.selectedTags,(function(e,s){return a("span",{key:s,staticClass:"search-tags"},[t._v(" "+t._s(e.text)),s<t.selectedTags.length-1?a("span",[t._v(",")]):t._e()])}))],2):t._e(),t._v(" "),t.isPending&&!t.isMobileView?a("p",{staticClass:"text-grey"},[a("span",{staticClass:"icon icon-clock"},[t._v(" One or more tags you searched are pending addition/removal. Please check back in a while.")])]):t._e(),t._v(" "),t.exposureData.length&&!t.isMobileView?a("div",{staticClass:"tags-treemap exposure-treemap"},[t._m(0),t._v(" "),a("treemap",{attrs:{"raw-data":t.exposureData,isCombined:t.isExposureCombined}})],1):t._e(),t._v(" "),t.isMobileView?a("div",{staticClass:"positions-summary mobile-agg"},[a("div",{staticClass:"row main-agg"},[a("div",{staticClass:"six columns"},[a("label",[t._v("P&L")]),t._v(" "),t.positionsSummary.total_unrealized_profit>0?a("h1",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"pos",attrs:{title:t._f("inrFormat")(t.positionsSummary.total_unrealized_profit,2,null,!0)}},[t._v("\n\t\t\t\t\t\t+"+t._s(t._f("kformat")(t.positionsSummary["total_unrealized_profit"]))+"\n\t\t\t\t\t\t")]):t.positionsSummary.total_unrealized_profit<0?a("h1",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"neg",attrs:{title:t._f("inrFormat")(t.positionsSummary.total_unrealized_profit,2)}},[t._v("\n\t\t\t\t\t\t"+t._s(t._f("kformat")(t.positionsSummary["total_unrealized_profit"]))+"\n\t\t\t\t\t\t")]):a("h1",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("kformat")(t.positionsSummary["total_unrealized_profit"]))+"\n\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"six columns"},[a("label",[t._v("No. of positions")]),t._v(" "),a("h1",[t._v(t._s(t.positions_items.length))])])])]):a("div",{staticClass:"positions-summary"},[a("div",{staticClass:"row"},[a("div",{staticClass:"six columns"},[a("label",[t._v("No. of positions")]),a("br"),t._v(" "),a("h1",[t._v(t._s(t.positions_items.length))])]),t._v(" "),a("div",{staticClass:"six columns"},[a("label",[t._v("P&L")]),a("br"),t._v(" "),t.positionsSummary.total_unrealized_profit>0?a("h1",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"pos",attrs:{title:t._f("inrFormat")(t.positionsSummary.total_unrealized_profit,2,null,!0)}},[t._v("\n\t\t\t\t\t\t+"+t._s(t._f("kformat")(t.positionsSummary["total_unrealized_profit"]))+"\n\t\t\t\t\t\t")]):t.positionsSummary.total_unrealized_profit<0?a("h1",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"neg",attrs:{title:t._f("inrFormat")(t.positionsSummary.total_unrealized_profit,2)}},[t._v("\n\t\t\t\t\t\t"+t._s(t._f("kformat")(t.positionsSummary["total_unrealized_profit"]))+"\n\t\t\t\t\t\t")]):a("h1",[t._v("\n\t\t\t\t\t\t"+t._s(t._f("kformat")(t.positionsSummary["total_unrealized_profit"]))+"\n\t\t\t\t\t")])])])]),t._v(" "),t.exposureData.length&&t.isMobileView?a("div",{staticClass:"tags-treemap exposure-treemap pull-up-section"},[t._m(1),t._v(" "),a("treemap",{attrs:{"raw-data":t.exposureData}})],1):t._e()]):t._e(),t._v(" "),!(t.positions_items.length>0)||t.job||t.fetchingData||t.positionsError||t.isMobileView?t._e():a("div",{staticClass:"section table-section"},[a("div",{staticClass:"last-updated text-small text-light-grey"},[a("span",{staticClass:"icon icon-clock"}),t._v(" Last updated: "+t._s(t.lastUpdated)+"\n\t\t")]),t._v(" "),a("div",{staticClass:"fetch-data"},[t.sortingData?a("su-loader"):t._e()],1),t._v(" "),a("div",{staticClass:"table-download text-small"},[a("span",{staticClass:"icon icon-download"}),t._v(" "),a("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{href:"#",title:"Download complete results as Excel"},on:{click:function(e){return e.preventDefault(),t.downloadData("xlsx")}}},[t._v("XLSX")]),t._v(" | "),a("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{href:"#",title:"Download complete results as Excel"},on:{click:function(e){return e.preventDefault(),t.downloadData("csv")}}},[t._v("CSV")])]),t._v(" "),a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideSearch,expression:"hideSearch"}],staticClass:"search-table"},[a("span",{staticClass:"icon icon-search"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"filter-input",attrs:{maxlength:"15",type:"text",placeholder:"Search"},domProps:{value:t.searchQuery},on:{click:function(e){return t.expandSearch()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterData(t.searchQuery,!1)},input:[function(e){e.target.composing||(t.searchQuery=e.target.value)},function(e){return t.filterData(t.searchQuery,!0)}]}}),t._v(" "),a("span",{staticClass:"clear icon icon-times",on:{click:function(e){return t.clearSearch()}}})]),t._v(" "),a("div",{staticClass:"table-container hide-on-mobile"},[a("table",{staticClass:"positions-table",attrs:{id:"positions_table"}},[a("thead",[a("tr",[a("td",{class:["table-border "+t.isSorted("tradingsymbol")],on:{click:function(e){return t.sortTable("tradingsymbol",e)}}},[t._v("\n\t\t\t\t\t\t\tSymbol\n\t\t\t\t\t\t\t"),a("span",{class:["arrow "+t.getsortBy("tradingsymbol")]})]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n\t\t\t\t\t\t\tType\n\t\t\t\t\t\t")]),t._v(" "),a("td",{class:t.isSorted("open_quantity"),on:{click:function(e){return t.sortTable("open_quantity",e)}}},[t._v("\n\t\t\t\t\t\t\tQty.\n\t\t\t\t\t\t\t"),a("span",{class:["arrow "+t.getsortBy("open_quantity")]})]),t._v(" "),a("td",{class:t.isSorted("open_average"),on:{click:function(e){return t.sortTable("open_average",e)}}},[t._v("\n\t\t\t\t\t\t\tAvg. price\n\t\t\t\t\t\t\t"),a("span",{class:["arrow "+t.getsortBy("open_average")]})]),t._v(" "),a("td",{class:t.isSorted("close_price"),on:{click:function(e){return t.sortTable("close_price",e)}}},[t._v("\n\t\t\t\t\t\t\tPrev. close\n\t\t\t\t\t\t\t"),a("span",{class:["arrow "+t.getsortBy("close_price")]})]),t._v(" "),a("td",{class:["table-focus "+t.isSorted("unrealized_profit")],on:{click:function(e){return t.sortTable("unrealized_profit",e)}}},[t._v("\n\t\t\t\t\t\t\tP&L\n\t\t\t\t\t\t\t"),a("span",{class:["arrow "+t.getsortBy("unrealized_profit")]})]),t._v(" "),a("td",{class:t.isSorted("unrealized_profit_percentage"),on:{click:function(e){return t.sortTable("unrealized_profit_percentage",e)}}},[t._v("\n\t\t\t\t\t\t\tP&L chg.\n\t\t\t\t\t\t\t"),a("span",{class:["arrow "+t.getsortBy("unrealized_profit_percentage")]})])])]),t._v(" "),a("tbody",t._l(t.positions_items,(function(e,s){return a("tr",{key:s,on:{mouseleave:function(e){t.showDrop=!1},mouseenter:function(e){t.showDrop=!0}}},[a("td",{staticClass:"textleft table-border symbol-class"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e["tradingsymbol"])+"\n\t\t\t\t\t\t\t"),e.pendingTag?a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"pending-tag",attrs:{title:"Tagging in process. Could take a few minutes."}},[a("span",{staticClass:"icon icon-clock"}),t._v(" Tagging")]):t._e(),t._v(" "),a("div",{staticClass:"new-tags"},[e.tags&&e.tags.length?a("div",{staticClass:"added-tags"},t._l(e.tags,(function(s,n){return e.pendingTags&&0!==e.pendingTags.filter((function(t){return t.id===s.id})).length?t._e():a("span",{key:n,style:"background:"+t.getBackground(s)+";color:"+t.getColor(s)},[t._v(t._s(s.text))])})),0):t._e(),t._v(" "),e.pendingTag&&e.pendingTags.length?a("div",{staticClass:"pending-tags"},t._l(e.pendingTags,(function(e,s){return a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:s,style:"background:"+t.getBackground(e)+";color:"+t.getColor(e),attrs:{title:"Pending"}},[a("span",{staticClass:"icon icon-clock"}),t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t\t\t\t\t\t")])})),0):t._e()]),t._v(" "),t.showDrop?a("context-menu",{staticClass:"table"},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"context-menu-button",attrs:{slot:"button",title:"Options"},slot:"button"},[a("span",{staticClass:"icon icon-ellipsis"})]),t._v(" "),a("template",{slot:"menu"},[t.hasBreakdown?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getPositionsBreakdown(e)}}},[a("span",{staticClass:"icon icon-menu"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\tView breakdown\n\t\t\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),t.hasBreakdown?a("hr"):t._e(),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getPositionsBreakdown(e)}}},[a("span",{staticClass:"icon icon-bookmark"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\tView tags\n\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/portfolio/tags/analyse"}},[a("span",{staticClass:"icon icon-trending-up"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\tAnalyse tags\n\t\t\t\t\t\t\t\t\t\t")])])])],2):t._e()],1),t._v(" "),a("td",{staticClass:"text-left"},["buy"==e["position_type"]?a("span",{staticClass:"trade-type buy"},[t._v("buy")]):a("span",{staticClass:"trade-type sell"},[t._v("sell")])]),t._v(" "),a("td",[t._v(t._s(t._f("qtyFormat")(e["open_quantity"],3)))]),t._v(" "),"CDS"==t.segmentState?a("td",[t._v(t._s(t._f("inrFormat")(e["open_average"],4)))]):a("td",[t._v(t._s(t._f("inrFormat")(e["open_average"],2)))]),t._v(" "),"CDS"==t.segmentState?a("td",[t._v(t._s(t._f("inrFormat")(e["close_price"],4)))]):a("td",[t._v(t._s(t._f("inrFormat")(e["close_price"],2)))]),t._v(" "),e["unrealized_profit"]>0?a("td",{staticClass:"pos table-focus"},[t._v("+"+t._s(t._f("inrFormat")(e["unrealized_profit"],2)))]):e["unrealized_profit"]<0?a("td",{staticClass:"neg table-focus"},[t._v(t._s(t._f("inrFormat")(e["unrealized_profit"],2)))]):a("td",{staticClass:"table-focus"},[t._v(t._s(t._f("inrFormat")(e["unrealized_profit"],2)))]),t._v(" "),e["unrealized_profit_percentage"]>0?a("td",{staticClass:"text-small pos"},[t._v("+"+t._s(t._f("inrFormat")(e["unrealized_profit_percentage"],2))+"%")]):e["unrealized_profit_percentage"]<0?a("td",{staticClass:"text-small neg"},[t._v(t._s(t._f("inrFormat")(e["unrealized_profit_percentage"],2))+"%")]):a("td",{staticClass:"text-small"},[t._v(t._s(t._f("inrFormat")(e["unrealized_profit_percentage"],2))+"%")])])})),0)])])]),t._v(" "),t.positions_items.length>0&&!t.job&&!t.fetchingData&&!t.positionsError&&t.isMobileView?a("div",{staticClass:"section table-section show-on-mobile cards pull-up-section"},[a("div",{staticClass:"last-updated text-small text-light-grey"},[a("span",{staticClass:"icon icon-clock"}),t._v(" Last updated: "+t._s(t.lastUpdated)+"\n\t\t")]),t._v(" "),a("div",{staticClass:"table-download text-small"},[a("span",{staticClass:"icon icon-download"}),t._v(" "),a("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{href:"#",title:"Download complete results as Excel"},on:{click:function(e){return e.preventDefault(),t.downloadData("xlsx")}}},[t._v("XLSX")]),t._v(" | "),a("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{href:"#",title:"Download complete results as Excel"},on:{click:function(e){return e.preventDefault(),t.downloadData("csv")}}},[t._v("CSV")])]),t._v(" "),t._l(t.positions_items,(function(e,s){return a("div",{key:s,staticClass:"card",class:t.positions_items.length-1===s?"last":"",on:{click:function(a){return t.toShowContextMenu(e)}}},[t.contextMenuTradingSymbol===e.tradingsymbol?a("mobile-context-menu",{on:{close:function(a){return t.toHideContextMenu(e)}}},[a("template",{slot:"menu"},[t.hasBreakdown?a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getPositionsBreakdown(e)}}},[a("span",{staticClass:"icon icon-menu"}),t._v("\n\t\t\t\t\t\t\tView breakdown\n\t\t\t\t\t\t")])]):t._e(),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getPositionsBreakdown(e)}}},[a("span",{staticClass:"icon icon-bookmark"}),t._v("\n\t\t\t\t\t\t\tView tags\n\t\t\t\t\t\t")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/portfolio/tags/analyse"}},[a("span",{staticClass:"icon icon-trending-up"}),t._v("\n\t\t\t\t\t\t\tAnalyse tags\n\t\t\t\t\t\t")])])])],2):t._e(),t._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"top-left text-bold symbol"},[t._v("\n\t\t\t\t\t"+t._s(e["tradingsymbol"])+"\n\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"top-right"},[e["unrealized_profit"]>0?a("span",{staticClass:"pos"},[t._v("+"+t._s(t._f("inrFormat")(e["unrealized_profit"],2)))]):e["unrealized_profit"]<0?a("span",{staticClass:"neg"},[t._v(t._s(t._f("inrFormat")(e["unrealized_profit"],2)))]):a("span",[t._v(t._s(t._f("inrFormat")(e["unrealized_profit"],2)))])])]),t._v(" "),a("div",{staticClass:"middle"},[a("div",{staticClass:"middle-left"},[t._v("\n\t\t\t\t\tQty. "+t._s(t._f("qtyFormat")(e["open_quantity"],3))+"\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"middle-left"},[t._v("\n\t\t\t\t\tAvg. price "),"CDS"===t.segmentState?a("span",[t._v(t._s(t._f("inrFormat")(e["open_average"],4)))]):a("span",[t._v(t._s(t._f("inrFormat")(e["open_average"],2)))])]),t._v(" "),a("div",{staticClass:"middle-right"},[e["unrealized_profit_percentage"]>0?a("span",{staticClass:"text-small pos"},[t._v("+"+t._s(t._f("inrFormat")(e["unrealized_profit_percentage"],2))+"%")]):e["unrealized_profit_percentage"]<0?a("span",{staticClass:"text-small neg"},[t._v(t._s(t._f("inrFormat")(e["unrealized_profit_percentage"],2))+"%")]):a("span",{staticClass:"text-small"},[t._v(t._s(t._f("inrFormat")(e["unrealized_profit_percentage"],2))+"%")])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"bottom-left"},["CDS"==t.segmentState?a("span",[t._v("Prev. close "+t._s(t._f("inrFormat")(e["close_price"],4)))]):a("span",[t._v("Prev. close "+t._s(t._f("inrFormat")(e["close_price"],2)))])]),t._v(" "),a("div",{staticClass:"bottom-right"},["buy"==e["position_type"]?a("span",{staticClass:"trade-type buy"},[t._v("buy")]):a("span",{staticClass:"trade-type sell"},[t._v("sell")])])])],1)}))],2):t._e(),t._v(" "),t.job?a("div",{staticClass:"section text-center"},[a("jobber")],1):t._e(),t._v(" "),!t.noResults||t.job||t.fetchingData||t.positionsError?t.job||t.fetchingData||!t.positionsError?t._e():a("div",{staticClass:"section"},[a("error",{attrs:{sub:t.positionsErrorMsg}})],1):a("div",{staticClass:"section text-center"},[a("empty")],1),t._v(" "),t.showModal?a("div",{staticClass:"section"},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper",on:{click:t.hideBreakdown}},[a("div",{staticClass:"modal-container breakdown-tag-container",on:{click:function(e){e.stopPropagation(),t.showBreakdown(),t.hideSelectedBreakdownFilters(e)}}},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideBreakdown.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("h1",[t._v("\n\t\t\t\t\t\t\t"+t._s(t.breakdownSymbol)+"\n\t\t\t\t\t\t\t"),t.breakdownJob?a("su-loader"):t._e()],1),t._v(" "),a("hr"),t._v(" "),!t.breakdownJob&&t.positionsBreakdown.length>0&&!t.posBreakdownError?a("div",[a("p",{staticClass:"analyse-tags-link"},[t._m(2),t._v(" "),t.instrument.pendingTag?a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"pending-tag",attrs:{title:"Tagging in process. Could take a few minutes."}},[a("span",{staticClass:"icon icon-clock"}),t._v(" Tagging")]):t._e()]),t._v(" "),t.enableTagEdit||0===t.selectedPosition.tags.length&&!t.selectedPosition.pendingTag?!t.enableTagEdit&&0===t.selectedPosition.tags.length&&t.enableBreakdownEdit?a("div",{staticClass:"text-light-grey"},[a("span",{staticClass:"icon icon-info"},[t._v(" No tags")])]):a("div",{staticClass:"tagger"},[t.isTagModifying?t._e():a("tagger",{ref:"tagger0",attrs:{holding:t.selectedPosition,tags:t.consoleTags,isAll:!0},on:{"tag-updated":t.updateFetchedTags,creating:t.showTagCreating,changed:t.tagChanged}})],1):a("div",[t.selectedPosition.tags&&t.selectedPosition.tags.length?a("div",{staticClass:"new-tags"},[a("div",{staticClass:"added-tags"},t._l(t.selectedPosition.tags,(function(e,s){return t.instrument.pendingTags&&0!==t.instrument.pendingTags.filter((function(t){return t.id===e.id})).length?t._e():a("span",{key:s,style:"background:"+t.getBackground(e)+";color:"+t.getColor(e)},[t._v(t._s(e.text))])})),0),t._v(" "),t.selectedPosition.pendingTag&&t.selectedPosition.pendingTags.length?a("div",{staticClass:"pending-tags"},t._l(t.selectedPosition.pendingTags,(function(e,s){return a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:s,style:"background:"+t.getBackground(e)+";color:"+t.getColor(e),attrs:{title:"Pending"}},[a("span",{staticClass:"icon icon-clock"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t\t\t\t\t\t\t")])})),0):t._e()]):t._e()]),a("br"),t._v(" "),t.enableBreakdownEdit?t._e():a("a",{staticClass:"float-right text-small edit-tags-enable",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.enableBreakdownEdit=!0,t.enableTagEdit=!1}}},[a("span",{staticClass:"icon icon-edit"}),t._v("Change tags")]),t._v(" "),t.enableBreakdownEdit?a("a",{staticClass:"float-right text-small edit-tags-enable",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.enableBreakdownEdit=!1,t.enableTagEdit=!0}}},[a("span",{staticClass:"icon icon-arrow-left"}),t._v(" Back")]):a("a",{staticClass:"float-right text-small edit-tags-enable",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showTagManagerModal.apply(null,arguments)}}},[a("span",{staticClass:"icon icon-bookmark"}),t._v("Manage tags")]),t._v(" "),a("span",{staticClass:"text-light-grey text-small paginate-info"},[t._v("Rows 1 - "+t._s(t.positionsBreakdown.length)+" out of "+t._s(t.positionsBreakdown.length))])]):t._e(),t._v(" "),!t.breakdownJob&&t.positionsBreakdown.length>0&&!t.posBreakdownError?a("div",[a("div",{staticClass:"positions-breakdown-table-container table-container"},[a("table",{staticClass:"positions-breakdown-table"},[t._m(3),t._v(" "),t._l(t.positionsBreakdown,(function(e,s){return a("tbody",{key:s},[a("tr",[a("td",{staticClass:"text-left"},[a("span",{staticClass:"date"},[t._v(t._s(t._f("dateFilter")(e["order_execution_time"],"date")))]),t._v(" "),a("span",{staticClass:"time"},[t._v(t._s(t._f("dateFilter")(e["order_execution_time"],"time")))]),t._v(" "),t.enableBreakdownEdit||0===e.tags.length?t._e():a("div",{staticClass:"new-tags"},[a("div",{staticClass:"added-tags"},t._l(e.tags,(function(s,n){return 0===e.pendingTags.filter((function(t){return t.id===s.id})).length?a("span",{key:n,style:"background:"+t.getBackground(s)+";color:"+t.getColor(s)},[t._v(t._s(s.text))]):t._e()})),0),t._v(" "),e.pendingTag&&e.pendingTags.length?a("div",{staticClass:"pending-tags"},t._l(e.pendingTags,(function(e,s){return a("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:s,style:"background:"+t.getBackground(e)+";color:"+t.getColor(e),attrs:{title:"Pending"}},[a("span",{staticClass:"icon icon-clock"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),0):t._e()])]),t._v(" "),"buy"==e["trade_type"]?a("td",[a("span",{staticClass:"trade-type buy"},[t._v(t._s(e["trade_type"]))])]):a("td",[a("span",{staticClass:"trade-type sell"},[t._v(t._s(e["trade_type"]))])]),t._v(" "),a("td",[t._v(t._s(t._f("qtyFormat")(e["quantity"],3)))]),t._v(" "),"CDS"==t.segmentState?a("td",[t._v(t._s(t._f("inrFormat")(e["price"],4)))]):a("td",[t._v(t._s(t._f("inrFormat")(e["price"],2)))]),t._v(" "),a("td",[t._v(t._s(e["days"]))])]),t._v(" "),a("tr",[t.enableBreakdownEdit?a("td",{staticClass:"tagger text-left",attrs:{colspan:"5"}},[t.isTagModifying?t._e():a("tagger",{ref:"tagger_b"+s,refInFor:!0,attrs:{holding:e,tags:t.consoleTags,placeholder:"Search and apply tags",isAll:!1},on:{"tag-updated":t.updateFetchedTags,creating:t.showTagCreating,changed:t.tagChanged}})],1):t._e()])])}))],2)]),t._v(" "),t.showCreateTag||!t.enableTagEdit&&!t.enableBreakdownEdit?t._e():a("div",{staticClass:"text-right"},[a("br"),t._v(" "),a("su-button",{staticClass:"btn btn-blue",attrs:{type:"submit",disabled:t.updatingTag||!t.hasChanged,processing:t.updatingTag},nativeOn:{click:function(e){return e.preventDefault(),t.postTag.apply(null,arguments)}}},[t._v("Apply tags")])],1)]):t.breakdownJob||0!==t.positionsBreakdown.length||t.posBreakdownError?!t.breakdownJob&&t.posBreakdownError?a("div",[a("error",{attrs:{sub:t.posBreakdownErrorMsg}})],1):t._e():a("div",[a("p",{staticClass:"text-light-grey"},[t._v("\n\t\t\t\t\t\t\t\tNo results available.\n\t\t\t\t\t\t\t")])])])])])])]):t._e(),t._v(" "),t.showTagManager?a("div",{staticClass:"section"},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper",on:{click:t.hideTagManagerModal}},[a("div",{staticClass:"modal-container",on:{click:function(e){return e.stopPropagation(),t.showTagManagerModal.apply(null,arguments)}}},[a("div",{staticClass:"modal-body"},[a("span",{staticClass:"close-modal",on:{click:function(e){return e.stopPropagation(),t.hideTagManagerModal.apply(null,arguments)}}},[a("img",{attrs:{src:"/static/images/close.svg",alt:"x"}})]),t._v(" "),a("tag-manager",{attrs:{isModal:!0}})],1)])])])]):t._e()])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",{staticClass:"icon icon-layers"}),t._v(" Exposure")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",{staticClass:"icon icon-layers"}),t._v(" Exposure")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"/portfolio/tags/analyse"}},[a("span",{staticClass:"icon icon-trending-up"}),t._v(" Analyse tags\n\t\t\t\t\t\t\t\t")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",[t._v("Date")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("Type")]),t._v(" "),a("td",[t._v("Qty")]),t._v(" "),a("td",[t._v("Avg. price")]),t._v(" "),a("td",[t._v("Days")])])])}],i=a("8508"),o=a.n(i),r=a("e7db"),l=a.n(r),c=(a("92b9"),a("2e34")),d=a("02bc"),A=a("5dfe"),u=a("5975"),g=a("6825"),p=a("e2ac"),f=a("3fb9"),v=a("2f62"),h=a("ba6a"),m=a("5665"),_=a("c7a0"),C=a.n(_),b=a("37bf"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"holdings-treemap"},[t._m(0),t._v(" "),"overview"!==t.treeView&&"sector"===t.treeSourceType?a("div",{staticClass:"chart-action",on:{click:function(e){return t.sectorView()}}},[a("span",{staticClass:"icon icon-arrow-left"}),t._v(" "),a("span",[t._v("Overview")])]):t._e(),t._v(" "),"overview"===t.treeView&&t.isCombined?a("form",{staticClass:"text-right",attrs:{id:"treemap_view_types"}},[a("su-radio-group",{model:{value:t.treeType,callback:function(e){t.treeType=e},expression:"treeType"}},t._l(t.treeTypes,(function(e,s){return a("su-radio",{key:s,attrs:{label:e.label,value:e.val}},[t._v(t._s(e.label))])})),1)],1):t._e()])},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart"},[a("div",{staticClass:"canvas"})])}],k=(a("b108"),a("00a5")),x=a("b6f4"),B=a("6bcb"),T=a("1231"),E=a("166a"),S={props:{data:Array,rawData:Array,hideStats:Boolean,maxItems:{type:Number,default:100},isCombined:{type:Boolean,default:!1}},data:function(){return{element:null,node:null,isActive:!1,treeView:"overview",treeType:"combined",treeTypes:[{val:"long",label:"Long"},{val:"short",label:"Short"},{val:"combined",label:"Combined"}],treeSourceType:"sector",treeSourceTypes:[{val:"sector",label:"Sectors"},{val:"stocks",label:"Instruments"}],selectedSector:""}},created:function(){this.maxItems=this.maxItems||100},mounted:function(){var t=this;this.element=Object(k["a"])(this.$el.querySelector("div.chart .canvas")),this.draw(this.element,this.sectorFormattedData,this.hideStats,this.treeType),this.$nextTick((function(){t.treeType="combined"}))},beforeDestroy:function(){this.postProcess()},activated:function(){this.preProcess()},deactivated:function(){this.postProcess()},computed:{formattedData:function(){return this.formatRawData(this.rawData,!1)},sectorFormattedData:function(){return this.formatRawData(this.rawData,!0)}},watch:{treeType:function(t){this.redraw()},treeSourceType:function(t){this.redraw()},rawData:function(t){}},methods:{changeSource:function(){this.$emit("change-source",this.treeSourceType)},sectorView:function(){this.treeView="overview",this.redraw()},postProcess:function(){this.isActive=!1},isElementInView:function(t){return document.querySelector("#"+t+"-treemap div.chart .canvas")},handleResize:function(){this.isActive&&this.redraw()},redraw:function(){"sector"===this.treeSourceType?this.draw(this.element,this.sectorFormattedData,this.hideStats,this.treeType,!1,!0):this.draw(this.element,this.formatRawData(this.formattedData.breakdown,!1,!0),this.hideStats,this.treeType,!1,!0)},formatRawData:function(t){var e=t;if(e){for(var a=[],s={},n=[],i=0,o=0,r=0,l=0;l<e.length;l++)s.hasOwnProperty(e[l].symbol)?(s[e[l].symbol][0]+=parseFloat(e[l].long),s[e[l].symbol][1]+=parseFloat(e[l].short),s[e[l].symbol][2]+=parseFloat(parseFloat(e[l].long)+parseFloat(e[l].short))):(s[e[l].symbol]=[],s[e[l].symbol][0]=parseFloat(e[l].long),s[e[l].symbol][1]=parseFloat(e[l].short),s[e[l].symbol][2]=parseFloat(parseFloat(e[l].long)+parseFloat(e[l].short)),s[e[l].symbol][3]=e[l].breakdown),a.push({name:e[l].symbol,long:e[l].long,short:e[l].short,combined:e[l].long+e[l].short,breakdown:e[l].breakdown}),i+=e[l].long,o+=e[l].short,r+=e[l].long+e[l].short;for(var c in s){if(0!==s[c][0]){var d={name:c,long:s[c][0],short:0,combined:s[c][0]};s[c][3]&&(d["breakdown"]=s[c][3].filter((function(t){return 0!==t.long}))),n.push(d)}if(0!==s[c][1]){var A={name:c,long:0,short:s[c][1],combined:s[c][1]};s[c][3]&&(A["breakdown"]=s[c][3].filter((function(t){return 0!==t.short}))),n.push(A)}}var u="desc",g="combined";return a.sort((function(t,e){var a=t[g],s=e[g];if("asc"===u){if(a<s)return-1;if(a>s)return 1}else{if(a>s)return-1;if(a<s)return 1}return 0})),n.sort((function(t,e){var a=t[g],s=e[g];if("asc"===u){if(a<s)return-1;if(a>s)return 1}else{if(a>s)return-1;if(a<s)return 1}return 0})),a=a.slice(0,this.maxItems),n=n.slice(0,this.maxItems),{name:"exposure",totalLong:i,totalShort:o,totalCombined:r,children:n}}},draw:function(t,e,a,s,n,i){if(t&&t.node()){i&&(t.html(""),this.node=null);var o=JSON.parse(JSON.stringify(e));o.children=o.children.filter((function(t){return 0!==t[s]})),o.children=o.children.sort((function(t,e){return Math.abs(t[s])<Math.abs(e[s])}));var r=o,l={top:0,right:0,bottom:20,left:0},c=50,d=t.node().getBoundingClientRect().width,A=d-l.left-l.right,u=Object(T["a"])(".2f"),g=Object(E["b"])(0,89,193),p=Object(E["b"])(246,70,26),f=function(t){return p.brighter(Math.random(1))},v=function(t){return g.brighter(Math.random(1))},h=this;if(n&&this.node){var m=Object(x["a"])().size([A,c]),_=Object(B["a"])(r).sum((function(t){return Math.abs(Math.round(Math.round(100*t[s]))/100)}));this.node.data(m(_).leaves()).attr("data-balloon-length","small").attr("data-balloon-pos",(function(t){return t.x1<100?"right":t.x1>A-100?"left":"up"})).style("cursor",(function(t){if("overview"===h.treeView&&"sector"===h.treeSourceType)return"pointer"})).attr("data-balloon",(function(t){var e=t.data.name;return 0!==t.data["long"]?e+="\n Long: ₹"+u(t.data["long"],2):0!==t.data["short"]&&(e+="\n Short: ₹"+Math.abs(u(t.data["short"],2))),e})).text((function(t){if(t.x1-t.x0>45&&t.y1-t.y0>20){if("overview"===h.treeView&&"sector"===h.treeSourceType)return t.data.name;var e=10;return t.data.name.length>e?t.data.name.substring(0,e)+"..":t.data.name}})).style("background",(function(t){return t.data[h.treeType]>0?v(t.data[h.treeType]):t.data[h.treeType]<0?f(t.data[h.treeType]):"#222222"})).transition().duration(500).style("left",(function(t){return t.x0+"px"})).style("top",(function(t){return t.y0+"px"})).style("width",(function(t){return Math.max(0,t.x1-t.x0)+"px"})).style("height",(function(t){return Math.max(0,t.y1-t.y0)+"px"}))}else{var C=t.append("div").attr("class","treemap").style("position","relative").style("width",A+"px").style("height",c+"px").style("left",l.left+"px").style("top",l.top+"px"),b=Object(x["a"])().size([A,c]),y=Object(B["a"])(r).sum((function(t){return Math.abs(Math.round(100*Math.round(t[s])))/100}));this.node=C.datum(y).selectAll(".node").data(b(y).leaves()).enter().append("div").attr("class","node").style("cursor",(function(t){if("overview"===h.treeView&&"sector"===h.treeSourceType)return"pointer"})).style("left",(function(t){return t.x0+"px"})).style("top",(function(t){return t.y0+"px"})).style("width",(function(t){return Math.max(0,t.x1-t.x0)+"px"})).style("height",(function(t){return Math.max(0,t.y1-t.y0)+"px"})).style("background",(function(t){return t.data[h.treeType]>0?v(t.data[h.treeType]):t.data[h.treeType]<0?f(t.data[h.treeType]):"#222222"})).text((function(t){if(t.x1-t.x0>45&&t.y1-t.y0>20){if("overview"===h.treeView&&"sector"===h.treeSourceType)return t.data.name;var e=10;return t.data.name.length>e?t.data.name.substring(0,e)+"..":t.data.name}})).on("click",(function(t){"breakdown"!==h.treeView&&"sector"===h.treeSourceType&&(h.selectedSector=t.data.name,h.treeView="breakdown",h.draw(h.element,h.formatRawData(t.data.breakdown,!1,!0),h.hideStats,h.treeType,!0,!0))})).attr("data-balloon-length","small").attr("data-balloon-pos",(function(t){return t.x1<100?"right":t.x1>A-100&&t.x0>200?"left":"up"})).attr("data-balloon",(function(t){var e=t.data.name;return 0!==t.data["long"]?e+="\n Long: ₹"+u(t.data["long"],2):0!==t.data["short"]&&(e+="\n Short: ₹"+Math.abs(u(t.data["short"],2))),e})).transition().duration(500).style("left",(function(t){return t.x0+"px"})).style("top",(function(t){return t.y0+"px"})).style("width",(function(t){return Math.max(0,t.x1-t.x0)+"px"})).style("height",(function(t){return Math.max(0,t.y1-t.y0)+"px"}))}}}}},M=S,D=a("2877"),O=Object(D["a"])(M,y,w,!1,null,null,null),P=O.exports,F=a("6157");function I(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?I(Object(a),!0).forEach((function(e){Q(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Q(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function N(t,e,a){return t+"?segment="+e+"&date="+a}function q(t){var e=t,a=""+(e.getMonth()+1),s=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[n,a,s].join("-")}var G={data:function(){return{instrument:"",segment:"FO",breakdownJob:!1,breakdownTimeout:"",positionsBreakdown:[],breakdownSymbol:"",breakdownSegment:"",showModal:!1,job:!1,params:{},positions_items:[],tradingsymbol:"",date:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),format:"YYYY-MM-DD",sortKey:"tradingsymbol",sortBy:"asc",disabled:{to:new Date(2017,3,1)},timeout:"",noResults:!1,hasBreakdown:!1,segmentState:"",fetchingData:!1,positionsSummary:{},showDrop:!0,sortingData:!1,searchQuery:"",filteredData:[],filtering:!1,lastUpdated:"",positionsError:!1,positionsErrorMsg:"Please try again",posBreakdownError:!1,posBreakdownErrorMsg:"Please try again",firstPoll:!0,contextMenuTradingSymbol:"",pollCount:0,allTagsAdded:!1,selectedTags:[],positionsFilter:"",selectedTagsModal:!1,hasChanged:!1,isTagModifying:!1,selectedPosition:{},tags:[],pendingTags:[],positionsTags:[],palette:["rgba(3, 155, 229, 1)","rgba(11, 128, 67, 1)","rgba(63, 81, 181, 1)","rgba(244, 81, 30, 1)","rgba(121, 85, 72, 1)","rgba(124, 179, 66, 1)","rgba(240, 147, 0, 1)","rgba(142, 36, 170, 1)","rgba(97, 97, 97, 1)","rgba(255, 205, 86, 1)"],paletteMap:{"rgba(3, 155, 229, 1)":"p1","rgba(11, 128, 67, 1)":"p2","rgba(63, 81, 181, 1)":"p3","rgba(244, 81, 30, 1)":"p4","rgba(121, 85, 72, 1)":"p5","rgba(124, 179, 66, 1)":"p6","rgba(240, 147, 0, 1)":"p7","rgba(142, 36, 170, 1)":"p8","rgba(97, 97, 97, 1)":"p9","rgba(255, 205, 86, 1)":"p10"},isPending:!1,showCreateTag:!1,updatingTag:!1,initFetch:!0,enableTagEdit:!0,enableBreakdownEdit:!1,isFilteredByTags:!1,isTagAdded:!1,exposureData:[],isExposureCombined:!1,showTagManager:!1,segmentMap:{FO:"Futures &amp; Options",CDS:"Currency",COM:"Commodity"},showSort:!1}},mounted:function(){var t=this,e=this;if(window.addEventListener("keyup",(function(t){27===t.keyCode&&(e.showTagManager?e.hideTagManagerModal():e.hideBreakdown(),e.clearSearch(),e.hideSearch())})),0===this.consoleTags.length)setTimeout((function(){t.fetchTags(!0)}),2e3);else for(var a=function(e){var a=t.tags.filter((function(a){return a.hasOwnProperty("id")&&a.id===t.consoleTags[e].id}));0===a.length&&t.tags.push(t.consoleTags[e])},s=0;s<this.consoleTags.length;s++)a(s);this.getPositionsJobs()},watch:{positionsFilter:function(t){t&&t.trim()&&this.hideSelectedTags()},consoleTags:function(t){var e=this;if(t&&t.length)for(var a=function(a){var s=e.tags.filter((function(e){return e.hasOwnProperty("id")&&e.id===t[a].id}));0===s.length&&e.tags.push(t[a])},s=0;s<t.length;s++)a(s)},selectedTags:function(t){if(this.isPending=!1,t.length>0)for(var e=0;e<t.length;e++)t[e].hasOwnProperty("id")&&-1!==this.pendingTags.indexOf(t[e].id)&&(this.isPending=!0);else this.allTagsAdded=!1}},computed:$($({},Object(v["c"])(["isMobileView","pnlStatus","consoleTags","consolePendingTags","csrf","reportEndDate"])),{},{filteredItems:function(){var t=this;if(this.positionsFilter)return this.tags.filter((function(e){return-1!==e.text.toLowerCase().indexOf(t.positionsFilter.toLowerCase())}))}}),methods:$($({},Object(v["d"])(["setConsoleTags","setConsolePendingTags"])),{},{formatDate:function(t,e){var a=t,s=""+(a.getMonth()+1),n=""+a.getDate(),i=a.getFullYear();return s.length<2&&(s="0"+s),n.length<2&&(n="0"+n),[i,s,n].join(e||"-")},showSortModal:function(){this.showSort=!0},hideSortModal:function(){this.showSort=!1},toggleInputContainer:function(t){var e=this,a=document.getElementsByClassName("mobile-input-container")[0];a&&(t?-1===a.className.indexOf("hidden")&&a.classList.add("hidden"):a.classList.toggle("hidden"),this.$nextTick((function(){if(-1!==document.getElementsByClassName("mobile-input-container")[0].className.indexOf("hidden"))document.querySelector("body").style.overflowY="auto";else{document.querySelector("body").style.overflowY="hidden";var t=e;new l.a({element:document.getElementById("positions_date"),startDate:t.date,minDate:new Date("2017-03-31"),dropdowns:{minYear:2017,maxYear:(new Date).getFullYear(),months:!1,years:!0},plugins:["mobilefriendly"],maxDate:new Date,setup:function(e){e.on("selected",(function(e,a){t.date=e.dateInstance}))}})}})))},showTagManagerModal:function(){this.showTagManager=!0},hideTagManagerModal:function(){this.showTagManager=!1},fetchExposure:function(){var t=this;this.exposureData=[];var e=N(m["a"].getPositionsExposure,this.segment,q(this.date));h["a"].request("GET",!1,e,null,(function(e,a){if("SUCCESS"===e.toUpperCase()){var s=a.data.data.result,n={},i=!1,o=!1;if(s.combined)for(var r in n=s.combined,n)if(0!==n[r].long&&(i=!0),0!==n[r].short&&(o=!0),n[r]["breakdown"]=[],s.breakdown)for(var l in s.breakdown)if(s.breakdown[l].parent===r){var c={};c["symbol"]=l,c["long"]=s.breakdown[l]["long"],c["short"]=s.breakdown[l]["short"],n[r]["breakdown"].push(c)}for(var d in n){var A={};A["symbol"]=d,A["long"]=n[d]["long"],A["short"]=n[d]["short"],A["breakdown"]=n[d]["breakdown"],t.exposureData.push(A)}t.isExposureCombined=i&&o}else"FAILURE"===e.toUpperCase()?t.$toast.error({message:"Error fetching exposure: "+a.data.message,orientation:t.$toast.TOP_RIGHT,duration:4e3}):t.$toast.error({message:"Error fetching exposure:"+h["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:4e3})}))},getUnique:function(t,e){return t.filter((function(a,s){return t.findIndex((function(t){return e?e(t)===e(a):t===a}))===s}))},updateFetchedTags:function(t){var e=this;this.setConsoleTags(t),this.isTagModifying=!0,this.$nextTick((function(){var t=function(t){if(e.positions_items[t].tag_ids&&e.positions_items[t].tags){var a=function(a){var s=e.consoleTags.find((function(s){return e.positions_items[t].tags[a].id===s.id}));e.positions_items[t].tags[a]=s};for(var s in e.positions_items[t].tags)a(s)}};for(var a in e.positions_items)t(a);var s=function(t){var a=[],s=function(s){var n=e.consoleTags.find((function(a){return e.positionsBreakdown[t].tags[s].id===a.id}));a.push(n)};for(var n in e.positionsBreakdown[t].tags)s(n);e.positionsBreakdown[t]["tags"]=a};for(var n in e.positionsBreakdown)s(n);e.isTagModifying=!1}))},showTagCreating:function(t){this.showCreateTag=t},postTag:function(){var t=this,e=!1,a={};if(a["segment"]=this.segmentState,a["tags"]=[],this.enableTagEdit){a["target_type"]="holding";var s={};s["target_id"]=this.selectedPosition.tradingsymbol,s["instrument_id"]=this.selectedPosition.tradingsymbol;for(var n=[],i=[],o=function(e){var a=t.$refs["tagger0"].selectedTags.filter((function(a){return a.id===t.selectedPosition.tags[e].id}));0===a.length&&i.push(parseInt(t.selectedPosition.tags[e].id))},r=0;r<this.selectedPosition.tags.length;r++)o(r);for(var l=function(e){var a=t.selectedPosition.tags.filter((function(a){return a.id===t.$refs["tagger0"].selectedTags[e].id}));0===a.length&&n.push(parseInt(t.$refs["tagger0"].selectedTags[e].id))},c=0;c<this.$refs["tagger0"].selectedTags.length;c++)l(c);n.length&&(s["added_tag_ids"]=n,e=!0),i.length&&(s["deleted_tag_ids"]=i,e=!0),a["tags"].push(s)}else{a["target_type"]="trade";for(var d=function(s){var n={};n["target_id"]=t.positionsBreakdown[s].trade_id,n["instrument_id"]=t.positionsBreakdown[s].tradingsymbol;for(var i=[],o=[],r=function(e){var a=t.$refs["tagger_b"+s][0].selectedTags.filter((function(a){return a.id===t.positionsBreakdown[s].tags[e].id}));0===a.length&&o.push(parseInt(t.positionsBreakdown[s].tags[e].id))},l=0;l<t.positionsBreakdown[s].tags.length;l++)r(l);for(var c=function(e){var a=t.positionsBreakdown[s].tags.filter((function(a){return a.id===t.$refs["tagger_b"+s][0].selectedTags[e].id}));0===a.length&&i.push(parseInt(t.$refs["tagger_b"+s][0].selectedTags[e].id))},d=0;d<t.$refs["tagger_b"+s][0].selectedTags.length;d++)c(d);i.length&&(n["added_tag_ids"]=i),o.length&&(n["deleted_tag_ids"]=o),(i.length||o.length)&&(a["tags"].push(n),e=!0)},A=0;A<this.positionsBreakdown.length;A++)d(A)}e?(this.updatingTag=!0,h["a"].request("POST",!1,m["a"].getPendingTags,a,(function(e,a){t.updatingTag=!1,"SUCCESS"===e.toUpperCase()?(t.fetchPendingTags(),t.hideBreakdown(),t.$toast.success({message:"Tags modified.",orientation:t.$toast.TOP_RIGHT,duration:5e3})):"FAILURE"===e.toUpperCase()?t.$toast.error({message:"Error updating tags: "+a.data.message,orientation:t.$toast.TOP_RIGHT,duration:4e3}):t.$toast.error({message:"Error updating tags:"+h["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:4e3})}))):this.$toast.warning({message:"No changes to update.",orientation:this.$toast.TOP_RIGHT,duration:4e3})},getColor:function(t){return t.colour?t.colour:"#444"},tagChanged:function(t){var e=this,a=!1;if(t){if(this.enableTagEdit){for(var s=[],n=[],i=function(t){var a=e.$refs["tagger0"].selectedTags.filter((function(a){return a.id===e.selectedPosition.tags[t].id}));0===a.length&&n.push(parseInt(e.selectedPosition.tags[t].id))},o=0;o<this.selectedPosition.tags.length;o++)i(o);for(var r=function(t){var a=e.selectedPosition.tags.filter((function(a){return a.id===e.$refs["tagger0"].selectedTags[t].id}));0===a.length&&s.push(parseInt(e.$refs["tagger0"].selectedTags[t].id))},l=0;l<this.$refs["tagger0"].selectedTags.length;l++)r(l);(s.length||n.length)&&(a=!0)}else for(var c=function(t){for(var s=[],n=[],i=function(a){var s=e.$refs["tagger_b"+t][0].selectedTags.filter((function(s){return s.id===e.positionsBreakdown[t].tags[a].id}));0===s.length&&n.push(parseInt(e.positionsBreakdown[t].tags[a].id))},o=0;o<e.positionsBreakdown[t].tags.length;o++)i(o);for(var r=function(a){var n=e.positionsBreakdown[t].tags.filter((function(s){return s.id===e.$refs["tagger_b"+t][0].selectedTags[a].id}));0===n.length&&s.push(parseInt(e.$refs["tagger_b"+t][0].selectedTags[a].id))},l=0;l<e.$refs["tagger_b"+t][0].selectedTags.length;l++)r(l);(s.length||n.length)&&(a=!0)},d=0;d<this.positionsBreakdown.length;d++)c(d);this.hasChanged=a}},hideSelectedBreakdownFilters:function(t){if(t.target&&(t.target.closest(".filter-option")||-1!==t.target.className.indexOf("checks")))console.log("clicked");else if(this.$refs.tagger0)this.$refs.tagger0.hideSelectedFilters();else for(var e in this.positionsBreakdown)this.$refs["tagger_b"+e][0].hideSelectedFilters()},fetchPendingTags:function(){var t=this;this.pendingTags=[],h["a"].request("GET",!1,m["a"].getPendingTags,null,(function(e,a){"SUCCESS"===e.toUpperCase()?a.data.data.result&&a.data.data.result.pending&&a.data.data.result.pending.length>0&&(t.setConsolePendingTags(a.data.data.result.pending),t.setPositionsPendingTags()):"FAILURE"===e.toUpperCase()?t.$toast.error({message:"Error fetching tags: "+a.data.message,orientation:t.$toast.TOP_RIGHT,duration:4e3}):t.$toast.error({message:"Error fetching tags:"+h["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:4e3})}))},setPositionsPendingTags:function(t){var e=this,a=this.positions_items;t&&(a=this.positionsBreakdown);for(var s=this.consolePendingTags.find((function(t){return"holding"===t.target_type&&t.segment.toUpperCase()===e.segmentState})),n=this.consolePendingTags.find((function(t){return"trade"===t.target_type&&t.segment.toUpperCase()===e.segmentState})),i=function(i){var o={},r=[],l=[],c=[];if(s&&(o=s.tags.find((function(t){return t.target_id===a[i].tradingsymbol})),o)){var d=o.deleted_tag_ids?e.consoleTags.filter((function(t){return-1!==o.deleted_tag_ids.indexOf(parseInt(t.id))})):[],A=o.added_tag_ids?e.consoleTags.filter((function(t){return-1!==o.added_tag_ids.indexOf(parseInt(t.id))})):[];l=d.concat(A)}if(n){r=t?n.tags.filter((function(t){return t.target_id===a[i].trade_id})):n.tags.filter((function(t){return t.instrument_id===a[i].tradingsymbol}));for(var u=function(t){if(r[t].added_tag_ids)for(var a=function(a){var s=e.consoleTags.find((function(e){return r[t].added_tag_ids[a]===parseInt(e.id)}));s&&c.push(s)},s=0;s<r[t].added_tag_ids.length;s++)a(s);if(r[t].deleted_tag_ids)for(var n=function(a){var s=e.consoleTags.find((function(e){return r[t].deleted_tag_ids[a]===parseInt(e.id)}));s&&c.push(s)},i=0;i<r[t].deleted_tag_ids.length;i++)n(i)},g=0;g<r.length;g++)u(g)}var p=l.concat(c);p=e.getUnique(p,(function(t){return t.id})),e.pendingTags.push(p),t?e.positionsBreakdown[i]["pendingTags"]=p:e.positions_items[i]["pendingTags"]=p,(o&&Object.keys(o).length>0||r.length>0)&&(t?e.positionsBreakdown[i].pendingTag=!0:e.positions_items[i].pendingTag=!0)},o=0;o<a.length;o++)i(o);this.pendingTags=this.getUnique(this.pendingTags,(function(t){return t.id}))},fetchTags:function(t){var e=this;h["a"].request("GET",!1,m["a"].getTags,null,(function(a,s){if("SUCCESS"===a.toUpperCase()){for(var n=s.data.data.result,i=0;i<n.length;i++)"SYSTEM"===n[i].client_id.toUpperCase()?(n[i]["type"]="system",n[i]["classes"]="system-tag"):(n[i]["type"]="custom",n[i]["classes"]="custom-tag "+e.paletteMap[n[i].colour]),n[i]["text"]=n[i].tag_name,n[i]["value"]=n[i].id;if(e.setConsoleTags(n),!t)for(var o=function(t){if(e.positions_items[t].tag_ids){var a=e.consoleTags.filter((function(a){return-1!==e.positions_items[t].tag_ids.indexOf(parseInt(a.id))}));e.positions_items[t]["tags"]=a}},r=0;r<e.positions_items.length;r++)o(r)}else"FAILURE"===a.toUpperCase()?e.$toast.error({message:"Error fetching tags: "+s.data.message,orientation:e.$toast.TOP_RIGHT,duration:4e3}):e.$toast.error({message:"Error fetching tags:"+h["a"].errorMessage(),orientation:e.$toast.TOP_RIGHT,duration:4e3})}))},resetSearch:function(t){this.selectedTags=[],this.hideSelectedTags()},getBackground:function(t){if(t.colour){var e=t.colour.replace("1)","0.1)");return e}return"rgba(68, 68, 68, 0.1)"},addTag:function(t){var e=this;if(t){var a=this.selectedTags.find((function(e){return e.id===t.id}));a||this.selectedTags.push(t),this.allTagsAdded=!1}else{var s=function(t){var a=e.selectedTags.find((function(a){return a.id===e.consoleTags[t].id}));a||e.selectedTags.push(e.consoleTags[t])};for(var n in this.consoleTags)s(n);this.allTagsAdded=!0}this.isTagAdded=!0},showSelectedTags:function(){this.selectedTagsModal=!0},hideSelectedTags:function(){this.isTagAdded?this.isTagAdded=!1:this.selectedTagsModal=!1},getPositionsJobs:function(){var t=sessionStorage.getItem("console_positions");t?(this.segment=JSON.parse(t).segment,this.getPositionsData(JSON.parse(t).segment,new Date(JSON.parse(t).date))):this.getPositionsData(this.segment)},toShowContextMenu:function(t){this.contextMenuTradingSymbol=t.tradingsymbol},toHideContextMenu:function(t){this.contextMenuTradingSymbol=""},getExchange:function(t){return"FO"===t?"NFO":"CDS"===t?"CDS":"COM"===t?"MCX":void 0},downloadData:function(t){var e=this,a=m["a"].downloadPositions+"?segment="+this.params.segment+"&date="+q(this.params.date)+"&format="+t;h["a"].request("GET",!0,a,null,(function(s,n){s&&"PENDING"===s.toUpperCase()?setTimeout((function(){e.downloadData(t)}),500):s&&"UNDEFINED"===s.toUpperCase()?-1!==n.headers["content-type"].indexOf("spreadsheet")||-1!==n.headers["content-type"].indexOf("csv")?window.location.href=a+"&csrf="+e.csrf:e.$toast.error({message:"Error downloading positions: "+n.data.message,orientation:e.$toast.TOP_RIGHT,duration:6e3}):e.$toast.error({message:"Error downloading positions:"+h["a"].errorMessage(),orientation:e.$toast.TOP_RIGHT,duration:6e3})}))},getPositionsBreakdown:function(t){var e=this;this.selectedPosition=t,this.breakdownSymbol=t["tradingsymbol"],this.breakdownSegment=this.segment,this.instrument=t,this.posBreakdownError=!1,this.breakdownJob=!0,this.showBreakdown();var a=m["a"].getPositionsBreakdown+"?tradingsymbol="+encodeURIComponent(this.instrument["tradingsymbol"])+"&segment="+this.segmentState;h["a"].request("GET",!1,a,null,(function(t,a){if(e.positionsBreakdown=[],e.breakdownJob=!1,"SUCCESS"===t.toUpperCase()){e.positionsBreakdown=a.data.data.result;var s=function(t){var a=new Date,s=new Date(e.positionsBreakdown[t]["order_execution_time"]),n=parseInt((a-s)/864e5);e.positionsBreakdown[t]["days"]=n;var i=e.consoleTags.filter((function(a){return-1!==e.positionsBreakdown[t].tags.indexOf(parseInt(a.id))}));e.positionsBreakdown[t]["tags"]=i};for(var n in e.positionsBreakdown)s(n);e.setPositionsPendingTags(!0)}else"FAILURE"===t.toUpperCase()?(e.posBreakdownError=!0,e.$toast.error({message:"Error fetching breakdown: "+a.data.message,orientation:e.$toast.TOP_RIGHT,duration:6e3})):(e.posBreakdownError=!0,e.$toast.error({message:"Error fetching breakdown:"+h["a"].errorMessage(),orientation:e.$toast.TOP_RIGHT,duration:6e3}))}))},showMenu:function(t){t.target.children.length>0?(t.target.children[3].classList.toggle("show"),null!==this.lastClicked&&this.lastClicked!==t.target.children[3]&&this.lastClicked.classList.toggle("show"),this.lastClicked=t.target.children[3]):(t.target.parentNode.children[3].classList.toggle("show"),null!==this.lastClicked&&this.lastClicked!==t.target.parentNode.children[3]&&this.lastClicked.classList.toggle("show"),this.lastClicked=t.target.parentNode.children[3])},isSorted:function(t){return t===this.sortKey?"sorted":""},getsortBy:function(t){return t===this.sortKey?"arrow-show arrow "+this.sortBy:"current_value"===t&&!0===this.isCurrentSorted?"arrow-show arrow "+this.currentSortby:"asc"},sortTable:function(t,e){if(t===this.sortKey)if("asc"===this.sortBy){this.sortBy="desc";for(var a=document.getElementById("positions_table").querySelectorAll("thead td span"),s=0;s<a.length;s++)a[s].className="arrow asc";e.target.querySelector("span")?e.target.querySelector("span").className="arrow desc":e.target.className="arrow desc"}else{this.sortBy="asc";for(var n=document.getElementById("positions_table").querySelectorAll("thead td span"),i=0;i<n.length;i++)n[i].className="arrow asc";e.target.querySelector("span")?e.target.querySelector("span").className="arrow asc":e.target.className="arrow asc"}else{this.sortKey=t,this.sortBy="asc";for(var o=document.getElementById("positions_table").querySelectorAll("thead td span"),r=0;r<o.length;r++)o[r].className="arrow asc";e.target.querySelector("span")?e.target.querySelector("span").className="arrow asc":e.target.className="arrow asc",this.params.page=1}this.sortingData=!0,this.getPositionsData(this.params.segment,this.params.date,this.sortKey,this.sortBy,!0)},pollData:function(){var t=this;this.pollCount++,this.firstPoll?setTimeout((function(){return t.getPositionsData(t.segment,t.date)}),500):setTimeout((function(){return t.getPositionsData(t.segment,t.date)}),1e3),this.firstPoll=!1},getPositionsData:function(t,e,a,s,n){var i=this;if(this.positionsError=!1,t){this.segment=t,this.segmentState=t,this.noResults=!1,n||(this.fetchingData=!0),this.date=e||new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),this.params={segment:this.segment,date:this.date},sessionStorage.setItem("console_positions",JSON.stringify(this.params));var o=N(m["a"].getPositions,this.segment,q(this.date));a&&s&&(o+="&sort_by="+a,"asc"===s?o+="&sort_desc=false":"desc"===s&&(o+="&sort_desc=true")),this.positions_items=[],this.isFilteredByTags=!1,this.toggleInputContainer(!0),h["a"].request("GET",!0,o,null,(function(t,e){"PENDING"===t.toUpperCase()?i.pollCount<10?(i.job=!0,i.pollData()):(i.job=!1,i.fetchingData=!1,i.sortingData=!1,i.firstPoll=!0,i.positionsError=!0,i.$toast.error({message:"Error fetching positions: Request timed out",orientation:i.$toast.TOP_RIGHT,duration:6e3}),sessionStorage.getItem("console_positions")&&sessionStorage.removeItem("console_positions"),i.pollCount=0):"SUCCESS"===t.toUpperCase()?function(){i.selectedTags&&i.selectedTags.length&&(i.isFilteredByTags=!0),i.pollCount=0,i.sortingData=!1,i.fetchingData=!1,i.job=!1,i.firstPoll=!0,i.hasBreakdown=e.data.data.result.has_breakdown,console.log(i.pnlStatus),"EQ"===i.segmentState?i.lastUpdated=i.pnlStatus["eq"]:"FO"===i.segmentState?i.lastUpdated=i.pnlStatus["fo"]:"CDS"===i.segmentState?i.lastUpdated=i.pnlStatus["cds"]:"COM"===i.segmentState&&(i.lastUpdated=i.pnlStatus["com"]);for(var t=e.data.data.result.positions,a=!1,s=function(e){var s=t[e];if(s["row"]=e,s["pendingTag"]=!1,s["tag_ids"]=s["tags"],s["tags"]=[],t[e].tag_ids){i.consoleTags.length&&(a=!0);var n=i.consoleTags.filter((function(a){return-1!==t[e].tag_ids.indexOf(parseInt(a.id))}));s["tags"]=n}i.positions_items.push(s)},o=0;o<t.length;o++)s(o);for(var r in a||i.fetchTags(!1),i.positionsSummary["total_unrealized_profit"]=0,i.positions_items)i.positions_items[r].unrealized_profit&&(i.positionsSummary["total_unrealized_profit"]+=parseFloat(i.positions_items[r].unrealized_profit));0===e.data.data.result.positions.length?i.noResults=!0:(i.noResults=!1,n||(i.fetchPendingTags(),i.fetchExposure()))}():"FAILURE"===t.toUpperCase()?(i.job=!1,i.fetchingData=!1,i.sortingData=!1,i.firstPoll=!0,i.positionsError=!0,i.$toast.error({message:"Error fetching positions: "+e.data.message,orientation:i.$toast.TOP_RIGHT,duration:6e3}),sessionStorage.getItem("console_positions")&&sessionStorage.removeItem("console_positions"),i.pollCount=0):"UNDEFINED"===t.toUpperCase()&&(i.job=!1,i.fetchingData=!1,i.sortingData=!1,i.firstPoll=!0,i.positionsError=!0,i.$toast.error({message:"Error fetching positions:"+h["a"].errorMessage(),orientation:i.$toast.TOP_RIGHT,duration:6e3}),sessionStorage.getItem("console_positions")&&sessionStorage.removeItem("console_positions"),i.pollCount=0)}))}else this.$toast.warning({message:"Segment is a required field",orientation:this.$toast.TOP_RIGHT,duration:6e3})},filterData:function(t,e){if(this.filteredData=[],t=t.toLowerCase().trim(),t&&t.length>0){this.filtering=!0;var a=this.positions_items;a=a.filter((function(e){return Object.keys(e).some((function(a){if("tradingsymbol"===a)return String(e[a]).toLowerCase().indexOf(t)>-1}))}));var s={};for(s in a)this.filteredData.push(a[s]["row"])}else this.filtering=!1;var n=document.getElementById("positions_table").querySelectorAll("tbody tr");if(this.filtering)for(var i=this.filteredData,o=0;o<n.length;o++)e?i.includes(o)?n[o].className="":n[o].className="blur":i.includes(o)?n[o].className="":n[o].className="hide-row";else for(var r=0;r<n.length;r++)n[r].className=""},clearSearch:function(){this.searchQuery="",this.filtering=!1,this.filteredData=[];for(var t=document.getElementById("positions_table").querySelectorAll("tbody tr"),e=0;e<t.length;e++)t[e].className=""},expandSearch:function(){document.getElementsByClassName("search-table")[0].classList.add("expand"),document.getElementsByClassName("filter-input")[0].setAttribute("placeholder","Filter eg: INFY"),document.getElementsByClassName("clear")[0].style.display="block"},hideSearch:function(){document.getElementsByClassName("search-table")[0].classList.remove("expand"),document.getElementsByClassName("filter-input")[0].setAttribute("placeholder","Search"),document.getElementsByClassName("clear")[0].style.display="none",document.getElementsByClassName("filter-input")[0].blur()},showBreakdown:function(){this.showModal=!0},hideBreakdown:function(){this.showModal=!1}}),components:{datepicker:o.a,VueTagsInput:C.a,Tagger:b["a"],TagManager:F["default"],Treemap:P,jobber:c["a"],"su-button":A["a"],"su-loader":u["a"],"context-menu":g["a"],"mobile-context-menu":p["a"],empty:d["a"],error:f["default"],rangepicker:l.a}},j=G,U=Object(D["a"])(j,s,n,!1,null,null,null);e["default"]=U.exports},c7a0:function(t,e,a){!function(e,a){t.exports=a()}(window,(function(){return function(t){var e={};function a(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/dist/",a(a.s=6)}([function(t,e,a){var s=a(8);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals),(0,a(4).default)("7ec05f6c",s,!1,{})},function(t,e,a){var s=a(10);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals),(0,a(4).default)("3453d19d",s,!1,{})},function(t,e,a){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=function(t,e){var a,s=t[1]||"",n=t[3];if(!n)return s;if(e&&"function"==typeof btoa){var i=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[s].concat(o).concat([i]).join("\n")}return[s].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a})).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},n=0;n<this.length;n++){var i=this[n][0];null!=i&&(s[i]=!0)}for(n=0;n<t.length;n++){var o=t[n];null!=o[0]&&s[o[0]]||(a&&!o[2]?o[2]=a:a&&(o[2]="("+o[2]+") and ("+a+")"),e.push(o))}},e}},function(t,e){t.exports="data:application/vnd.ms-fontobject;base64,aAUAAMQEAAABAAIAAAAAAAAAAAAAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAUdPJHwAAAAAAAAAAAAAAAAAAAAAAAA4AaQBjAG8AbQBvAG8AbgAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBpAGMAbwBtAG8AbwBuAAAAAAAAAQAAAAsAgAADADBPUy8yDxIFrAAAALwAAABgY21hcBdW0okAAAEcAAAAVGdhc3AAAAAQAAABcAAAAAhnbHlmpZ+jMAAAAXgAAAD8aGVhZA/FmAgAAAJ0AAAANmhoZWEHgAPIAAACrAAAACRobXR4EgABvgAAAtAAAAAcbG9jYQCSAOIAAALsAAAAEG1heHAACQAfAAAC/AAAACBuYW1lmUoJ+wAAAxwAAAGGcG9zdAADAAAAAASkAAAAIAADA4ABkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOkCA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAAAAAAMAAAADAAAAHAABAAMAAAAcAAMAAQAAABwABAA4AAAACgAIAAIAAgABACDpAv/9//8AAAAAACDpAP/9//8AAf/jFwQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAVgEBA74CgQAcAAABMhceARcWFwcmJy4BJyYjIgYHFyERFzY3PgE3NgIWSkNDbykpF2QQIB9VMzQ5P3AtnP6AmB0iIkspKAJVFxhSODlCIDMrKz4REislmgGAmhkVFBwICAABANYAgQMqAtUACwAAAQcXBycHJzcnNxc3Ayru7jzu7jzu7jzu7gKZ7u487u487u487u4AAQCSAIEDgAK9AAUAACUBFwEnNwGAAcQ8/gDuPPkBxDz+AO48AAAAAAEAAAAAAAAfydNRXw889QALBAAAAAAA1nUqGwAAAADWdSobAAAAAAO+AtUAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA74AAQAAAAAAAAAAAAAAAAAAAAcEAAAAAAAAAAAAAAACAAAABAAAVgQAANYEAACSAAAAAAAKABQAHgBQAGoAfgABAAAABwAdAAEAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},function(t,e,a){"use strict";function s(t,e){for(var a=[],s={},n=0;n<e.length;n++){var i=e[n],o=i[0],r={id:t+":"+n,css:i[1],media:i[2],sourceMap:i[3]};s[o]?s[o].parts.push(r):a.push(s[o]={id:o,parts:[r]})}return a}a.r(e),a.d(e,"default",(function(){return p}));var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=n&&(document.head||document.getElementsByTagName("head")[0]),r=null,l=0,c=!1,d=function(){},A=null,u="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,a,n){c=a,A=n||{};var o=s(t,e);return f(o),function(e){for(var a=[],n=0;n<o.length;n++){var r=o[n];(l=i[r.id]).refs--,a.push(l)}for(e?f(o=s(t,e)):o=[],n=0;n<a.length;n++){var l;if(0===(l=a[n]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}}function f(t){for(var e=0;e<t.length;e++){var a=t[e],s=i[a.id];if(s){s.refs++;for(var n=0;n<s.parts.length;n++)s.parts[n](a.parts[n]);for(;n<a.parts.length;n++)s.parts.push(h(a.parts[n]));s.parts.length>a.parts.length&&(s.parts.length=a.parts.length)}else{var o=[];for(n=0;n<a.parts.length;n++)o.push(h(a.parts[n]));i[a.id]={id:a.id,refs:1,parts:o}}}}function v(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function h(t){var e,a,s=document.querySelector("style["+u+'~="'+t.id+'"]');if(s){if(c)return d;s.parentNode.removeChild(s)}if(g){var n=l++;s=r||(r=v()),e=C.bind(null,s,n,!1),a=C.bind(null,s,n,!0)}else s=v(),e=function(t,e){var a=e.css,s=e.media,n=e.sourceMap;if(s&&t.setAttribute("media",s),A.ssrId&&t.setAttribute(u,e.id),n&&(a+="\n/*# sourceURL="+n.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,s),a=function(){s.parentNode.removeChild(s)};return e(t),function(s){if(s){if(s.css===t.css&&s.media===t.media&&s.sourceMap===t.sourceMap)return;e(t=s)}else a()}}var m,_=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function C(t,e,a,s){var n=a?"":s.css;if(t.styleSheet)t.styleSheet.cssText=_(e,n);else{var i=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}},function(t,e,a){"use strict";var s=Array.isArray,n=Object.keys,i=Object.prototype.hasOwnProperty;t.exports=function t(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){var o,r,l,c=s(e),d=s(a);if(c&&d){if((r=e.length)!=a.length)return!1;for(o=r;0!=o--;)if(!t(e[o],a[o]))return!1;return!0}if(c!=d)return!1;var A=e instanceof Date,u=a instanceof Date;if(A!=u)return!1;if(A&&u)return e.getTime()==a.getTime();var g=e instanceof RegExp,p=a instanceof RegExp;if(g!=p)return!1;if(g&&p)return e.toString()==a.toString();var f=n(e);if((r=f.length)!==n(a).length)return!1;for(o=r;0!=o--;)if(!i.call(a,f[o]))return!1;for(o=r;0!=o--;)if(!t(e[l=f[o]],a[l]))return!1;return!0}return e!=e&&a!=a}},function(t,e,a){t.exports=a(14)},function(t,e,a){"use strict";var s=a(0);a.n(s).a},function(t,e,a){(t.exports=a(2)(!0)).push([t.i,".ti-tag-input[data-v-108f4f13] {\n  background-color: transparent;\n  color: inherit;\n  border: none;\n  padding: 0px;\n  margin: 0px;\n  display: flex;\n  top: 0px;\n  position: absolute;\n  width: 100%;\n  line-height: inherit;\n}\n.ti-tag-input[data-v-108f4f13]::-ms-clear {\n  display: none;\n}\ninput[data-v-108f4f13]:focus {\n  outline: none;\n}\ninput[disabled][data-v-108f4f13] {\n  background-color: transparent;\n}\n","",{version:3,sources:["C:/Users/johan/dev/vue-tags-input/vue-tags-input/C:/Users/johan/dev/vue-tags-input/vue-tags-input/tag-input.vue"],names:[],mappings:"AAAA;EACE,8BAA8B;EAC9B,eAAe;EACf,aAAa;EACb,aAAa;EACb,YAAY;EACZ,cAAc;EACd,SAAS;EACT,mBAAmB;EACnB,YAAY;EACZ,qBAAqB;CAAE;AAEzB;EACE,cAAc;CAAE;AAElB;EACE,cAAc;CAAE;AAElB;EACE,8BAA8B;CAAE",file:"tag-input.vue?vue&type=style&index=0&id=108f4f13&lang=css&scoped=true&",sourcesContent:[".ti-tag-input {\n  background-color: transparent;\n  color: inherit;\n  border: none;\n  padding: 0px;\n  margin: 0px;\n  display: flex;\n  top: 0px;\n  position: absolute;\n  width: 100%;\n  line-height: inherit; }\n\n.ti-tag-input::-ms-clear {\n  display: none; }\n\ninput:focus {\n  outline: none; }\n\ninput[disabled] {\n  background-color: transparent; }\n"],sourceRoot:""}])},function(t,e,a){"use strict";var s=a(1);a.n(s).a},function(t,e,a){e=t.exports=a(2)(!0);var s=a(11),n=s(a(3)),i=s(a(3)+"#iefix"),o=s(a(12)),r=s(a(13));e.push([t.i,"@font-face {\n  font-family: 'icomoon';\n  src: url("+n+");\n  src: url("+i+') format("embedded-opentype"), url('+o+') format("truetype"), url('+r+') format("woff");\n  font-weight: normal;\n  font-style: normal;\n}\n[class^="ti-icon-"][data-v-61d92e31], [class*=" ti-icon-"][data-v-61d92e31] {\n  font-family: \'icomoon\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.ti-icon-check[data-v-61d92e31]:before {\n  content: "\\e902";\n}\n.ti-icon-close[data-v-61d92e31]:before {\n  content: "\\e901";\n}\n.ti-icon-undo[data-v-61d92e31]:before {\n  content: "\\e900";\n}\nul[data-v-61d92e31] {\n  margin: 0px;\n  padding: 0px;\n  list-style-type: none;\n}\n*[data-v-61d92e31], *[data-v-61d92e31]:before, *[data-v-61d92e31]:after {\n  box-sizing: border-box;\n}\ninput[data-v-61d92e31]:focus {\n  outline: none;\n}\ninput[disabled][data-v-61d92e31] {\n  background-color: transparent;\n}\n.vue-tags-input[data-v-61d92e31] {\n  max-width: 450px;\n  position: relative;\n  background-color: #fff;\n}\ndiv.vue-tags-input.disabled[data-v-61d92e31] {\n  opacity: 0.5;\n}\ndiv.vue-tags-input.disabled *[data-v-61d92e31] {\n    cursor: default;\n}\n.ti-input[data-v-61d92e31] {\n  border: 1px solid #ccc;\n  display: flex;\n  padding: 4px;\n  flex-wrap: wrap;\n}\n.ti-tags[data-v-61d92e31] {\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  line-height: 1em;\n}\n.ti-tag[data-v-61d92e31] {\n  background-color: #5C6BC0;\n  color: #fff;\n  border-radius: 2px;\n  display: flex;\n  padding: 3px 5px;\n  margin: 2px;\n  font-size: .85em;\n}\n.ti-tag[data-v-61d92e31]:focus {\n    outline: none;\n}\n.ti-tag .ti-content[data-v-61d92e31] {\n    display: flex;\n    align-items: center;\n}\n.ti-tag .ti-tag-center[data-v-61d92e31] {\n    position: relative;\n}\n.ti-tag span[data-v-61d92e31] {\n    line-height: .85em;\n}\n.ti-tag span.ti-hidden[data-v-61d92e31] {\n    padding-left: 14px;\n    visibility: hidden;\n    height: 0px;\n    white-space: pre;\n}\n.ti-tag .ti-actions[data-v-61d92e31] {\n    margin-left: 2px;\n    display: flex;\n    align-items: center;\n    font-size: 1.15em;\n}\n.ti-tag .ti-actions i[data-v-61d92e31] {\n      cursor: pointer;\n}\n.ti-tag[data-v-61d92e31]:last-child {\n    margin-right: 4px;\n}\n.ti-tag.ti-invalid[data-v-61d92e31], .ti-tag.ti-tag.ti-deletion-mark[data-v-61d92e31] {\n    background-color: #e54d42;\n}\n.ti-new-tag-input-wrapper[data-v-61d92e31] {\n  display: flex;\n  flex: 1 0 auto;\n  padding: 3px 5px;\n  margin: 2px;\n  font-size: .85em;\n}\n.ti-new-tag-input-wrapper input[data-v-61d92e31] {\n    flex: 1 0 auto;\n    min-width: 100px;\n    border: none;\n    padding: 0px;\n    margin: 0px;\n}\n.ti-new-tag-input[data-v-61d92e31] {\n  line-height: initial;\n}\n.ti-autocomplete[data-v-61d92e31] {\n  border: 1px solid #ccc;\n  border-top: none;\n  position: absolute;\n  width: 100%;\n  background-color: #fff;\n  z-index: 20;\n}\n.ti-item > div[data-v-61d92e31] {\n  cursor: pointer;\n  padding: 3px 6px;\n  width: 100%;\n}\n.ti-selected-item[data-v-61d92e31] {\n  background-color: #5C6BC0;\n  color: #fff;\n}\n',"",{version:3,sources:["C:/Users/johan/dev/vue-tags-input/vue-tags-input/C:/Users/johan/dev/vue-tags-input/vue-tags-input/vue-tags-input.scss"],names:[],mappings:"AAAA;EACE,uBAAuB;EACvB,mCAA8C;EAC9C,+JAAuM;EACvM,oBAAoB;EACpB,mBAAmB;CAAE;AAEvB;EACE,kCAAkC;EAClC,YAAY;EACZ,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,qBAAqB;EACrB,eAAe;EACf,oCAAoC;EACpC,mCAAmC;CAAE;AAEvC;EACE,iBAAiB;CAAE;AAErB;EACE,iBAAiB;CAAE;AAErB;EACE,iBAAiB;CAAE;AAErB;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;CAAE;AAE1B;EACE,uBAAuB;CAAE;AAE3B;EACE,cAAc;CAAE;AAElB;EACE,8BAA8B;CAAE;AAElC;EACE,iBAAiB;EACjB,mBAAmB;EACnB,uBAAuB;CAAE;AAE3B;EACE,aAAa;CAAE;AACf;IACE,gBAAgB;CAAE;AAEtB;EACE,uBAAuB;EACvB,cAAc;EACd,aAAa;EACb,gBAAgB;CAAE;AAEpB;EACE,cAAc;EACd,gBAAgB;EAChB,YAAY;EACZ,iBAAiB;CAAE;AAErB;EACE,0BAA0B;EAC1B,YAAY;EACZ,mBAAmB;EACnB,cAAc;EACd,iBAAiB;EACjB,YAAY;EACZ,iBAAiB;CAAE;AACnB;IACE,cAAc;CAAE;AAClB;IACE,cAAc;IACd,oBAAoB;CAAE;AACxB;IACE,mBAAmB;CAAE;AACvB;IACE,mBAAmB;CAAE;AACvB;IACE,mBAAmB;IACnB,mBAAmB;IACnB,YAAY;IACZ,iBAAiB;CAAE;AACrB;IACE,iBAAiB;IACjB,cAAc;IACd,oBAAoB;IACpB,kBAAkB;CAAE;AACpB;MACE,gBAAgB;CAAE;AACtB;IACE,kBAAkB;CAAE;AACtB;IACE,0BAA0B;CAAE;AAEhC;EACE,cAAc;EACd,eAAe;EACf,iBAAiB;EACjB,YAAY;EACZ,iBAAiB;CAAE;AACnB;IACE,eAAe;IACf,iBAAiB;IACjB,aAAa;IACb,aAAa;IACb,YAAY;CAAE;AAElB;EACE,qBAAqB;CAAE;AAEzB;EACE,uBAAuB;EACvB,iBAAiB;EACjB,mBAAmB;EACnB,YAAY;EACZ,uBAAuB;EACvB,YAAY;CAAE;AAEhB;EACE,gBAAgB;EAChB,iBAAiB;EACjB,YAAY;CAAE;AAEhB;EACE,0BAA0B;EAC1B,YAAY;CAAE",file:"vue-tags-input.scss?vue&type=style&index=0&id=61d92e31&lang=scss&scoped=true&",sourcesContent:['@font-face {\n  font-family: \'icomoon\';\n  src: url("./assets/fonts/icomoon.eot?7grlse");\n  src: url("./assets/fonts/icomoon.eot?7grlse#iefix") format("embedded-opentype"), url("./assets/fonts/icomoon.ttf?7grlse") format("truetype"), url("./assets/fonts/icomoon.woff?7grlse") format("woff");\n  font-weight: normal;\n  font-style: normal; }\n\n[class^="ti-icon-"], [class*=" ti-icon-"] {\n  font-family: \'icomoon\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale; }\n\n.ti-icon-check:before {\n  content: "\\e902"; }\n\n.ti-icon-close:before {\n  content: "\\e901"; }\n\n.ti-icon-undo:before {\n  content: "\\e900"; }\n\nul {\n  margin: 0px;\n  padding: 0px;\n  list-style-type: none; }\n\n*, *:before, *:after {\n  box-sizing: border-box; }\n\ninput:focus {\n  outline: none; }\n\ninput[disabled] {\n  background-color: transparent; }\n\n.vue-tags-input {\n  max-width: 450px;\n  position: relative;\n  background-color: #fff; }\n\ndiv.vue-tags-input.disabled {\n  opacity: 0.5; }\n  div.vue-tags-input.disabled * {\n    cursor: default; }\n\n.ti-input {\n  border: 1px solid #ccc;\n  display: flex;\n  padding: 4px;\n  flex-wrap: wrap; }\n\n.ti-tags {\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  line-height: 1em; }\n\n.ti-tag {\n  background-color: #5C6BC0;\n  color: #fff;\n  border-radius: 2px;\n  display: flex;\n  padding: 3px 5px;\n  margin: 2px;\n  font-size: .85em; }\n  .ti-tag:focus {\n    outline: none; }\n  .ti-tag .ti-content {\n    display: flex;\n    align-items: center; }\n  .ti-tag .ti-tag-center {\n    position: relative; }\n  .ti-tag span {\n    line-height: .85em; }\n  .ti-tag span.ti-hidden {\n    padding-left: 14px;\n    visibility: hidden;\n    height: 0px;\n    white-space: pre; }\n  .ti-tag .ti-actions {\n    margin-left: 2px;\n    display: flex;\n    align-items: center;\n    font-size: 1.15em; }\n    .ti-tag .ti-actions i {\n      cursor: pointer; }\n  .ti-tag:last-child {\n    margin-right: 4px; }\n  .ti-tag.ti-invalid, .ti-tag.ti-tag.ti-deletion-mark {\n    background-color: #e54d42; }\n\n.ti-new-tag-input-wrapper {\n  display: flex;\n  flex: 1 0 auto;\n  padding: 3px 5px;\n  margin: 2px;\n  font-size: .85em; }\n  .ti-new-tag-input-wrapper input {\n    flex: 1 0 auto;\n    min-width: 100px;\n    border: none;\n    padding: 0px;\n    margin: 0px; }\n\n.ti-new-tag-input {\n  line-height: initial; }\n\n.ti-autocomplete {\n  border: 1px solid #ccc;\n  border-top: none;\n  position: absolute;\n  width: 100%;\n  background-color: #fff;\n  z-index: 20; }\n\n.ti-item > div {\n  cursor: pointer;\n  padding: 3px 6px;\n  width: 100%; }\n\n.ti-selected-item {\n  background-color: #5C6BC0;\n  color: #fff; }\n'],sourceRoot:""}])},function(t,e,a){"use strict";t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBawAAAC8AAAAYGNtYXAXVtKJAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZqWfozAAAAF4AAAA/GhlYWQPxZgIAAACdAAAADZoaGVhB4ADyAAAAqwAAAAkaG10eBIAAb4AAALQAAAAHGxvY2EAkgDiAAAC7AAAABBtYXhwAAkAHwAAAvwAAAAgbmFtZZlKCfsAAAMcAAABhnBvc3QAAwAAAAAEpAAAACAAAwOAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpAgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6QL//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAFYBAQO+AoEAHAAAATIXHgEXFhcHJicuAScmIyIGBxchERc2Nz4BNzYCFkpDQ28pKRdkECAfVTM0OT9wLZz+gJgdIiJLKSgCVRcYUjg5QiAzKys+ERIrJZoBgJoZFRQcCAgAAQDWAIEDKgLVAAsAAAEHFwcnByc3JzcXNwMq7u487u487u487u4Cme7uPO7uPO7uPO7uAAEAkgCBA4ACvQAFAAAlARcBJzcBgAHEPP4A7jz5AcQ8/gDuPAAAAAABAAAAAAAAH8nTUV8PPPUACwQAAAAAANZ1KhsAAAAA1nUqGwAAAAADvgLVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAO+AAEAAAAAAAAAAAAAAAAAAAAHBAAAAAAAAAAAAAAAAgAAAAQAAFYEAADWBAAAkgAAAAAACgAUAB4AUABqAH4AAQAAAAcAHQABAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="},function(t,e){t.exports="data:font/woff;base64,d09GRgABAAAAAAUQAAsAAAAABMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFrGNtYXAAAAFoAAAAVAAAAFQXVtKJZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAPwAAAD8pZ+jMGhlYWQAAALAAAAANgAAADYPxZgIaGhlYQAAAvgAAAAkAAAAJAeAA8hobXR4AAADHAAAABwAAAAcEgABvmxvY2EAAAM4AAAAEAAAABAAkgDibWF4cAAAA0gAAAAgAAAAIAAJAB9uYW1lAAADaAAAAYYAAAGGmUoJ+3Bvc3QAAATwAAAAIAAAACAAAwAAAAMDgAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkC//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQBWAQEDvgKBABwAAAEyFx4BFxYXByYnLgEnJiMiBgcXIREXNjc+ATc2AhZKQ0NvKSkXZBAgH1UzNDk/cC2c/oCYHSIiSykoAlUXGFI4OUIgMysrPhESKyWaAYCaGRUUHAgIAAEA1gCBAyoC1QALAAABBxcHJwcnNyc3FzcDKu7uPO7uPO7uPO7uApnu7jzu7jzu7jzu7gABAJIAgQOAAr0ABQAAJQEXASc3AYABxDz+AO48+QHEPP4A7jwAAAAAAQAAAAAAAB/J01FfDzz1AAsEAAAAAADWdSobAAAAANZ1KhsAAAAAA74C1QAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAADvgABAAAAAAAAAAAAAAAAAAAABwQAAAAAAAAAAAAAAAIAAAAEAABWBAAA1gQAAJIAAAAAAAoAFAAeAFAAagB+AAEAAAAHAB0AAQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vue-tags-input",class:[{"ti-disabled":t.disabled},{"ti-focus":t.focused}]},[a("div",{staticClass:"ti-input"},[t.tagsCopy?a("ul",{staticClass:"ti-tags"},[t._l(t.tagsCopy,(function(e,s){return a("li",{key:s,staticClass:"ti-tag",class:[{"ti-editing":t.tagsEditStatus[s]},e.tiClasses,e.classes,{"ti-deletion-mark":t.isMarked(s)}],style:e.style,attrs:{tabindex:"0"},on:{click:function(a){return t.$emit("tag-clicked",{tag:e,index:s})}}},[a("div",{staticClass:"ti-content"},[t.$scopedSlots["tag-left"]?a("div",{staticClass:"ti-tag-left"},[t._t("tag-left",null,{tag:e,index:s,edit:t.tagsEditStatus[s],performSaveEdit:t.performSaveTag,performDelete:t.performDeleteTag,performCancelEdit:t.cancelEdit,performOpenEdit:t.performEditTag,deletionMark:t.isMarked(s)})],2):t._e(),t._v(" "),a("div",{ref:"tagCenter",refInFor:!0,staticClass:"ti-tag-center"},[t.$scopedSlots["tag-center"]?t._e():a("span",{class:{"ti-hidden":t.tagsEditStatus[s]},on:{click:function(e){return t.performEditTag(s)}}},[t._v(t._s(e.text))]),t._v(" "),t.$scopedSlots["tag-center"]?t._e():a("tag-input",{attrs:{scope:{edit:t.tagsEditStatus[s],maxlength:t.maxlength,tag:e,index:s,validateTag:t.createChangedTag,performCancelEdit:t.cancelEdit,performSaveEdit:t.performSaveTag}}}),t._v(" "),t._t("tag-center",null,{tag:e,index:s,maxlength:t.maxlength,edit:t.tagsEditStatus[s],performSaveEdit:t.performSaveTag,performDelete:t.performDeleteTag,performCancelEdit:t.cancelEdit,validateTag:t.createChangedTag,performOpenEdit:t.performEditTag,deletionMark:t.isMarked(s)})],2),t._v(" "),t.$scopedSlots["tag-right"]?a("div",{staticClass:"ti-tag-right"},[t._t("tag-right",null,{tag:e,index:s,edit:t.tagsEditStatus[s],performSaveEdit:t.performSaveTag,performDelete:t.performDeleteTag,performCancelEdit:t.cancelEdit,performOpenEdit:t.performEditTag,deletionMark:t.isMarked(s)})],2):t._e()]),t._v(" "),a("div",{staticClass:"ti-actions"},[t.$scopedSlots["tag-actions"]?t._e():a("i",{directives:[{name:"show",rawName:"v-show",value:t.tagsEditStatus[s],expression:"tagsEditStatus[index]"}],staticClass:"ti-icon-undo",on:{click:function(e){return t.cancelEdit(s)}}}),t._v(" "),t.$scopedSlots["tag-actions"]?t._e():a("i",{directives:[{name:"show",rawName:"v-show",value:!t.tagsEditStatus[s],expression:"!tagsEditStatus[index]"}],staticClass:"ti-icon-close",on:{click:function(e){return t.performDeleteTag(s)}}}),t._v(" "),t.$scopedSlots["tag-actions"]?t._t("tag-actions",null,{tag:e,index:s,edit:t.tagsEditStatus[s],performSaveEdit:t.performSaveTag,performDelete:t.performDeleteTag,performCancelEdit:t.cancelEdit,performOpenEdit:t.performEditTag,deletionMark:t.isMarked(s)}):t._e()],2)])})),t._v(" "),a("li",{staticClass:"ti-new-tag-input-wrapper"},[a("input",t._b({ref:"newTagInput",staticClass:"ti-new-tag-input",class:[t.createClasses(t.newTag,t.tags,t.validation,t.isDuplicate)],attrs:{placeholder:t.placeholder,maxlength:t.maxlength,disabled:t.disabled,type:"text",size:"1"},domProps:{value:t.newTag},on:{keydown:[function(e){return t.performAddTags(t.filteredAutocompleteItems[t.selectedItem]||t.newTag,e)},function(e){return e.type.indexOf("key")||8===e.keyCode?t.invokeDelete(e):null},function(e){return e.type.indexOf("key")||9===e.keyCode?t.performBlur(e):null},function(e){return e.type.indexOf("key")||38===e.keyCode?t.selectItem(e,"before"):null},function(e){return e.type.indexOf("key")||40===e.keyCode?t.selectItem(e,"after"):null}],paste:t.addTagsFromPaste,input:t.updateNewTag,blur:function(e){return t.$emit("blur",e)},focus:function(e){t.focused=!0,t.$emit("focus",e)},click:function(e){!t.addOnlyFromAutocomplete&&(t.selectedItem=null)}}},"input",t.$attrs,!1))])],2):t._e()]),t._v(" "),t._t("between-elements"),t._v(" "),t.autocompleteOpen?a("div",{staticClass:"ti-autocomplete",on:{mouseout:function(e){t.selectedItem=null}}},[t._t("autocomplete-header"),t._v(" "),a("ul",t._l(t.filteredAutocompleteItems,(function(e,s){return a("li",{key:s,staticClass:"ti-item",class:[e.tiClasses,e.classes,{"ti-selected-item":t.isSelected(s)}],style:e.style,on:{mouseover:function(e){!t.disabled&&(t.selectedItem=s)}}},[t.$scopedSlots["autocomplete-item"]?t._t("autocomplete-item",null,{item:e,index:s,performAdd:function(e){return t.performAddTags(e,void 0,"autocomplete")},selected:t.isSelected(s)}):a("div",{on:{click:function(a){return t.performAddTags(e,void 0,"autocomplete")}}},[t._v("\n          "+t._s(e.text)+"\n        ")])],2)})),0),t._v(" "),t._t("autocomplete-footer")],2):t._e()],2)};s._withStripped=!0;var n=a(5),i=a.n(n),o=function(t){return JSON.parse(JSON.stringify(t))},r=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0;void 0===t.text&&(t={text:t});var n=function(t,e){return e.filter((function(e){var a=t.text;return"string"==typeof e.rule?!new RegExp(e.rule).test(a):e.rule instanceof RegExp?!e.rule.test(a):"[object Function]"==={}.toString.call(e.rule)?e.rule(t):void 0})).map((function(t){return t.classes}))}(t,a),i=function(t,e){for(var a=0;a<t.length;){if(e(t[a],a,t))return a;a++}return-1}(e,(function(e){return e===t})),r=o(e),l=-1!==i?r.splice(i,1)[0]:o(t);return(s?s(r,l):-1!==r.map((function(t){return t.text})).indexOf(l.text))&&n.push("ti-duplicate"),0===n.length?n.push("ti-valid"):n.push("ti-invalid"),n},l=function(t){void 0===t.text&&(t={text:t});for(var e=o(t),a=arguments.length,s=new Array(a>1?a-1:0),n=1;n<a;n++)s[n-1]=arguments[n];return e.tiClasses=r.apply(void 0,[t].concat(s)),e},c=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return t.map((function(e){return l.apply(void 0,[e,t].concat(a))}))},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.scope.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.scope.tag.text,expression:"scope.tag.text"}],staticClass:"ti-tag-input",attrs:{maxlength:t.scope.maxlength,type:"text",size:"1"},domProps:{value:t.scope.tag.text},on:{input:[function(e){e.target.composing||t.$set(t.scope.tag,"text",e.target.value)},function(e){return t.scope.validateTag(t.scope.index,e)}],blur:function(e){return t.scope.performCancelEdit(t.scope.index)},keydown:function(e){return t.scope.performSaveEdit(t.scope.index,e)}}}):t._e()};d._withStripped=!0;var A={name:"TagInput",props:{scope:{type:Object}}};function u(t,e,a,s,n,i,o,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):n&&(l=r?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var A=c.beforeCreate;c.beforeCreate=A?[].concat(A,l):[l]}return{exports:t,options:c}}a(7);var g=u(A,d,[],!1,null,"108f4f13",null);g.options.__file="vue-tags-input/tag-input.vue";var p=g.exports,f=function(t){return!t.some((function(t){var e=!t.text;e&&console.warn('Missing property "text"',t);var a=!1;return t.classes&&(a="string"!=typeof t.classes),a&&console.warn('Property "classes" must be type of string',t),e||a}))},v=function(t){return!t.some((function(t){if("number"==typeof t){var e=isFinite(t)&&Math.floor(t)===t;return e||console.warn("Only numerics are allowed for this prop. Found:",t),!e}if("string"==typeof t){var a=/\W|[a-z]|!\d/i.test(t);return a||console.warn("Only alpha strings are allowed for this prop. Found:",t),!a}return console.warn("Only numeric and string values are allowed. Found:",t),!1}))},h={value:{type:String,default:"",required:!0},tags:{type:Array,default:function(){return[]},validator:f},autocompleteItems:{type:Array,default:function(){return[]},validator:f},allowEditTags:{type:Boolean,default:!1},autocompleteFilterDuplicates:{default:!0,type:Boolean},addOnlyFromAutocomplete:{type:Boolean,default:!1},autocompleteMinLength:{type:Number,default:1},autocompleteAlwaysOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"Add Tag"},addOnKey:{type:Array,default:function(){return[13]},validator:v},saveOnKey:{type:Array,default:function(){return[13]},validator:v},maxTags:{type:Number},maxlength:{type:Number},validation:{type:Array,default:function(){return[]},validator:function(t){return!t.some((function(t){var e=!t.rule;e&&console.warn('Property "rule" is missing',t);var a=t.rule&&("string"==typeof t.rule||t.rule instanceof RegExp||"[object Function]"==={}.toString.call(t.rule));a||console.warn("A rule must be type of string, RegExp or function. Found:",JSON.stringify(t.rule));var s=!t.classes;s&&console.warn('Property "classes" is missing',t);var n=t.type&&"string"!=typeof t.type;return n&&console.warn('Property "type" must be type of string. Found:',t),!a||e||s||n}))}},separators:{type:Array,default:function(){return[";"]},validator:function(t){return!t.some((function(t){var e="string"!=typeof t;return e&&console.warn("Separators must be type of string. Found:",t),e}))}},avoidAddingDuplicates:{type:Boolean,default:!0},addOnBlur:{type:Boolean,default:!0},isDuplicate:{type:Function,default:null},addFromPaste:{type:Boolean,default:!0},deleteOnBackspace:{default:!0,type:Boolean}};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _={name:"VueTagsInput",components:{TagInput:p},props:h,data:function(){return{newTag:null,tagsCopy:null,tagsEditStatus:null,deletionMark:null,deletionMarkTime:null,selectedItem:null,focused:null}},computed:{autocompleteOpen:function(){return!!this.autocompleteAlwaysOpen||null!==this.newTag&&this.newTag.length>=this.autocompleteMinLength&&this.filteredAutocompleteItems.length>0&&this.focused},filteredAutocompleteItems:function(){var t=this,e=this.autocompleteItems.map((function(e){return l(e,t.tags,t.validation,t.isDuplicate)}));return this.autocompleteFilterDuplicates?e.filter(this.duplicateFilter):e}},methods:{createClasses:r,getSelectedIndex:function(t){var e=this.filteredAutocompleteItems,a=this.selectedItem,s=e.length-1;if(0!==e.length)return null===a?0:"before"===t&&0===a?s:"after"===t&&a===s?0:"after"===t?a+1:a-1},selectDefaultItem:function(){this.addOnlyFromAutocomplete&&this.filteredAutocompleteItems.length>0?this.selectedItem=0:this.selectedItem=null},selectItem:function(t,e){t.preventDefault(),this.selectedItem=this.getSelectedIndex(e)},isSelected:function(t){return this.selectedItem===t},isMarked:function(t){return this.deletionMark===t},invokeDelete:function(){var t=this;if(this.deleteOnBackspace&&!(this.newTag.length>0)){var e=this.tagsCopy.length-1;null===this.deletionMark?(this.deletionMarkTime=setTimeout((function(){return t.deletionMark=null}),1e3),this.deletionMark=e):this.performDeleteTag(e)}},addTagsFromPaste:function(){var t=this;this.addFromPaste&&setTimeout((function(){return t.performAddTags(t.newTag)}),10)},performEditTag:function(t){var e=this;this.allowEditTags&&(this._events["before-editing-tag"]||this.editTag(t),this.$emit("before-editing-tag",{index:t,tag:this.tagsCopy[t],editTag:function(){return e.editTag(t)}}))},editTag:function(t){this.allowEditTags&&(this.toggleEditMode(t),this.focus(t))},toggleEditMode:function(t){this.allowEditTags&&!this.disabled&&this.$set(this.tagsEditStatus,t,!this.tagsEditStatus[t])},createChangedTag:function(t,e){var a=this.tagsCopy[t];a.text=e?e.target.value:this.tagsCopy[t].text,this.$set(this.tagsCopy,t,l(a,this.tagsCopy,this.validation,this.isDuplicate))},focus:function(t){var e=this;this.$nextTick((function(){var a=e.$refs.tagCenter[t].querySelector("input.ti-tag-input");a&&a.focus()}))},quote:function(t){return t.replace(/([()[{*+.$^\\|?])/g,"\\$1")},cancelEdit:function(t){this.tags[t]&&(this.tagsCopy[t]=o(l(this.tags[t],this.tags,this.validation,this.isDuplicate)),this.$set(this.tagsEditStatus,t,!1))},hasForbiddingAddRule:function(t){var e=this;return t.some((function(t){var a=e.validation.find((function(e){return t===e.classes}));return!!a&&a.disableAdd}))},createTagTexts:function(t){var e=this,a=new RegExp(this.separators.map((function(t){return e.quote(t)})).join("|"));return t.split(a).map((function(t){return{text:t}}))},performDeleteTag:function(t){var e=this;this._events["before-deleting-tag"]||this.deleteTag(t),this.$emit("before-deleting-tag",{index:t,tag:this.tagsCopy[t],deleteTag:function(){return e.deleteTag(t)}})},deleteTag:function(t){this.disabled||(this.deletionMark=null,clearTimeout(this.deletionMarkTime),this.tagsCopy.splice(t,1),this._events["update:tags"]&&this.$emit("update:tags",this.tagsCopy),this.$emit("tags-changed",this.tagsCopy))},noTriggerKey:function(t,e){var a=-1!==this[e].indexOf(t.keyCode)||-1!==this[e].indexOf(t.key);return a&&t.preventDefault(),!a},performAddTags:function(t,e,a){var s=this;if(!(this.disabled||e&&this.noTriggerKey(e,"addOnKey"))){var n=[];"object"===m(t)&&(n=[t]),"string"==typeof t&&(n=this.createTagTexts(t)),(n=n.filter((function(t){return t.text.trim().length>0}))).forEach((function(t){t=l(t,s.tags,s.validation,s.isDuplicate),s._events["before-adding-tag"]||s.addTag(t,a),s.$emit("before-adding-tag",{tag:t,addTag:function(){return s.addTag(t,a)}})}))}},duplicateFilter:function(t){return this.isDuplicate?!this.isDuplicate(this.tagsCopy,t):!this.tagsCopy.find((function(e){return e.text===t.text}))},addTag:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new-tag-input",s=this.filteredAutocompleteItems.map((function(t){return t.text}));this.addOnlyFromAutocomplete&&-1===s.indexOf(t.text)||this.$nextTick((function(){return e.maxTags&&e.maxTags<=e.tagsCopy.length?e.$emit("max-tags-reached",t):e.avoidAddingDuplicates&&!e.duplicateFilter(t)?e.$emit("adding-duplicate",t):void(e.hasForbiddingAddRule(t.tiClasses)||(e.$emit("input",""),e.tagsCopy.push(t),e._events["update:tags"]&&e.$emit("update:tags",e.tagsCopy),"autocomplete"===a&&e.$refs.newTagInput.focus(),e.$emit("tags-changed",e.tagsCopy)))}))},performSaveTag:function(t,e){var a=this,s=this.tagsCopy[t];this.disabled||e&&this.noTriggerKey(e,"addOnKey")||0!==s.text.trim().length&&(this._events["before-saving-tag"]||this.saveTag(t,s),this.$emit("before-saving-tag",{index:t,tag:s,saveTag:function(){return a.saveTag(t,s)}}))},saveTag:function(t,e){if(this.avoidAddingDuplicates){var a=o(this.tagsCopy),s=a.splice(t,1)[0];if(this.isDuplicate?this.isDuplicate(a,s):-1!==a.map((function(t){return t.text})).indexOf(s.text))return this.$emit("saving-duplicate",e)}this.hasForbiddingAddRule(e.tiClasses)||(this.$set(this.tagsCopy,t,e),this.toggleEditMode(t),this._events["update:tags"]&&this.$emit("update:tags",this.tagsCopy),this.$emit("tags-changed",this.tagsCopy))},tagsEqual:function(){var t=this;return!this.tagsCopy.some((function(e,a){return!i()(e,t.tags[a])}))},updateNewTag:function(t){var e=t.target.value;this.newTag=e,this.$emit("input",e)},initTags:function(){this.tagsCopy=c(this.tags,this.validation,this.isDuplicate),this.tagsEditStatus=o(this.tags).map((function(){return!1})),this._events["update:tags"]&&!this.tagsEqual()&&this.$emit("update:tags",this.tagsCopy)},blurredOnClick:function(t){this.$el.contains(t.target)||this.$el.contains(document.activeElement)||this.performBlur(t)},performBlur:function(){this.addOnBlur&&this.focused&&this.performAddTags(this.newTag),this.focused=!1}},watch:{value:function(t){this.addOnlyFromAutocomplete||(this.selectedItem=null),this.newTag=t},tags:{handler:function(){this.initTags()},deep:!0},autocompleteOpen:"selectDefaultItem"},created:function(){this.newTag=this.value,this.initTags()},mounted:function(){this.selectDefaultItem(),document.addEventListener("click",this.blurredOnClick)},destroyed:function(){document.removeEventListener("click",this.blurredOnClick)}},C=(a(9),u(_,s,[],!1,null,"61d92e31",null));C.options.__file="vue-tags-input/vue-tags-input.vue";var b=C.exports;a.d(e,"VueTagsInput",(function(){return b})),a.d(e,"createClasses",(function(){return r})),a.d(e,"createTag",(function(){return l})),a.d(e,"createTags",(function(){return c})),a.d(e,"TagInput",(function(){return p})),b.install=function(t){return t.component(b.name,b)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(b),e.default=b}])}))}}]);