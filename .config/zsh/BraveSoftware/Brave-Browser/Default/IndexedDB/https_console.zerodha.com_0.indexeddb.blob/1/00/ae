(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"2e34":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"state-process-container",attrs:{main:t.main,sub:t.sub,loader:t.loader}},[e("div",{staticClass:"state-process"},[e("img",{attrs:{src:"/static/images/jobber.svg"}}),t._v(" "),e("h3",[e("span",{attrs:{id:"mainText"}},[t._v(t._s(t.main))]),t._v(" "),t.loader?e("su-loader"):t._e()],1),t._v(" "),e("p",{staticClass:"text-light-grey text-center",attrs:{id:"subText"}},[t._v(t._s(t.sub))])])])},n=[],o=e("5975"),i={name:"jobber",props:{main:{type:String,default:"Building your report"},sub:{type:String,default:"This could take several seconds. Please wait."},loader:{type:Boolean,default:!0}},components:{"su-loader":o["a"]}},l=i,r=e("2877"),c=Object(r["a"])(l,s,n,!1,null,null,null);a["a"]=c.exports},"3fb9":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"state-process-container error-comp",attrs:{main:t.main,sub:t.sub}},[e("div",{staticClass:"state-process"},[e("img",{attrs:{src:"/static/images/error-fetching-data.svg"}}),t._v(" "),e("h3",{attrs:{id:"mainText"}},[t._v(t._s(t.main))]),t._v(" "),e("p",{staticClass:"text-light-grey",attrs:{id:"subText"}},[t._v(t._s(t.sub))])])])},n=[],o=e("5975"),i={name:"error",props:{main:{type:String,default:"Something went wrong"},sub:{type:String,default:"Please try again"}},components:{"su-loader":o["a"]}},l=i,r=e("2877"),c=Object(r["a"])(l,s,n,!1,null,null,null);a["default"]=c.exports},"6f52":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-container dashboard"},[e("h1",{staticClass:"welcome-text"},[t._v("Hi "),e("span",[t._v(t._s(t._f("capitalize")(t.userDetails.user_shortname)))])]),t._v(" "),t._m(0),t._v(" "),t.dashboardError?e("div",{staticClass:"section"},[e("error",{attrs:{sub:t.dashboardErrorMessage}})],1):e("div",{staticClass:"section"},[e("div",{staticClass:"dashboard-section"},[e("div",{staticClass:"row custom-row"},[e("div",{staticClass:"six columns active",attrs:{id:"equity_card"},on:{click:function(a){return t.showMobileDonut("equity")}}},[e("h2",[e("span",{staticClass:"icon icon-pie-chart"}),t._v("\n\t\t\t\t\t\t\tEquity"),t.fetchingData?e("br",{staticClass:"show-on-mobile"}):t._e(),t.fetchingData?e("br",{staticClass:"show-on-mobile"}):t._e(),t._v(" "),t.fetchingData?e("su-loader"):t._e(),t._v(" "),t.pnlStatus["eq"]?e("span",{staticClass:"hide-on-mobile update-tags text-light-grey"},[e("img",{attrs:{src:"/static/images/clock.svg"}}),e("span",[t._v("Updated on "),e("span",{staticClass:"update-tag-date"},[t._v(t._s(t.pnlStatus["eq"]))])])]):t._e()],1),t._v(" "),e("hr",{staticClass:"hide-on-mobile"}),t._v(" "),e("br",{staticClass:"hide-on-mobile"})]),t._v(" "),e("div",{staticClass:"six columns",attrs:{id:"comm_card"},on:{click:function(a){return t.showMobileDonut("comm")}}},[e("h2",[e("span",{staticClass:"icon icon-droplet"}),t._v("\n\t\t\t\t\t\t\tCommodity"),t.fetchingData?e("br",{staticClass:"show-on-mobile"}):t._e(),t.fetchingData?e("br",{staticClass:"show-on-mobile"}):t._e(),t._v(" "),t.fetchingData?e("su-loader"):t._e(),t._v(" "),t.pnlStatus["com"]?e("span",{staticClass:"hide-on-mobile update-tags text-light-grey"},[e("img",{attrs:{src:"/static/images/clock.svg"}}),e("span",[t._v("Updated on "),e("span",{staticClass:"update-tag-date"},[t._v(t._s(t.pnlStatus["com"]))])])]):t._e()],1),t._v(" "),e("hr",{staticClass:"hide-on-mobile"}),t._v(" "),e("br",{staticClass:"hide-on-mobile"})])]),t._v(" "),e("div",{staticClass:"row custom-row"},[e("div",{staticClass:"six columns border-right equity-donut-section"},[t.fetchingData||-1!==t.activeSegments.indexOf("EQ")?t._e():e("div",{staticClass:"eq-disabled text-center"},[e("img",{attrs:{src:"/static/images/segment-disabled.svg"}}),t._v(" "),e("p",{staticClass:"text-light-grey"},[t._v("Your equity account is inactive/dormant.")]),t._v(" "),e("a",{staticClass:"btn btn-blue",attrs:{href:"/account/segment-activation"}},[t._v("Activate Segment")])]),t._v(" "),t.fetchingData||0!==t.equity_account_value||t.isMobileView||-1===t.activeSegments.indexOf("EQ")?t._e():e("div",{staticClass:"eq-disabled text-center"},[e("img",{attrs:{src:"/static/images/no-account-value.svg"}}),t._v(" "),e("p",{staticClass:"text-light-grey"},[t._v("You don't have any funds here")]),t._v(" "),e("a",{staticClass:"btn btn-blue",attrs:{href:"https://cashier.zerodha.com/",target:"_blank"}},[t._v("Add funds")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"four columns"},[t.fetchingData||0==t.equity_account_value||-1===t.activeSegments.indexOf("EQ")?t._e():e("div",{staticClass:"hide-on-mobile"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tooltip-label xl-tooltip",attrs:{title:"Cash balance + Margins blocked + Equity holdings value + Mutual funds value + Pledged holdings + Long option value - Short option premium"}},[t._v("Account value")]),e("br"),t._v(" "),e("h1",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.equity_account_value,2,null,!0)}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("kformat")(t.equity_account_value))+"\n\t\t\t\t\t\t\t\t\t")])])]),t._v(" "),e("div",{staticClass:"eight columns"},[t.fetchingData||-1===t.activeSegments.indexOf("EQ")?t._e():e("div",{staticClass:"show-on-mobile"},[e("div",{staticClass:"grey-back-mobile"}),t._v(" "),e("div",{staticClass:"mobile-agg"},[e("div",{staticClass:"main-agg text-center"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tooltip-label xl-tooltip",attrs:{title:"Cash balance + Margins blocked + Equity holdings value + Mutual funds value + Pledged holdings + Long option value - Short option premium"}},[t._v("Account value")]),e("br"),t._v(" "),e("h1",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.equity_account_value,2,null,!0)}},[t.equity_account_value>0?e("span",{staticClass:"rupee-symbol"},[t._v("₹")]):t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(t.equity_account_value,2,null,!1))+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),t.pnlStatus["eq"]?e("span",{staticClass:"show-on-mobile text-small update-tags text-light-grey"},[e("img",{attrs:{src:"/static/images/clock.svg"}}),e("span",[e("span",[t._v("Updated on "),e("span",{staticClass:"update-tag-date"},[t._v(t._s(t.pnlStatus["eq"]))])])])]):t._e()])])])]),t._v(" "),t.fetchingData||0==t.equity_account_value||-1===t.activeSegments.indexOf("EQ")?t._e():e("div",{class:{row:!0,"pull-up-section":t.isMobileView},attrs:{id:"eq_donut_container"}},[e("div",{staticClass:"six columns"},t._l(t.equityCleanHeaders,(function(a,s){return e("div",{key:s,staticClass:"legends"},[e("span",{class:["legend-color l"+(s+1)]}),t._v(" "),e("span",{staticClass:"text-small text-light-grey"},"Pledged holdings"==a?[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a)+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),e("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"legend-breakdown",attrs:{title:"Collateral margin: "+t.equityValues[t.equityValues.length-2]+"\nHaircut: "+t.equityValues[t.equityValues.length-1],"data-balloon-break":""}},[e("span",{staticClass:"icon icon-info"})])]:[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a)+"\n\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),e("h3",[t._v(t._s(t._f("inrFormat")(t.equityValues[s],2)))])])})),0),t._v(" "),parseFloat(t.equity_account_value).toFixed()>0?e("div",{staticClass:"six columns"},[t._m(1)]):t._e()])])])]),t._v(" "),e("div",{staticClass:"six columns comm-donut-section"},[t.fetchingData||-1!==t.activeSegments.indexOf("COM")?t._e():e("div",{staticClass:"comm-disabled text-center"},[e("img",{attrs:{src:"/static/images/segment-disabled.svg"}}),t._v(" "),e("p",{staticClass:"text-light-grey"},[t._v("Your commodity account is inactive/dormant")]),t._v(" "),e("a",{staticClass:"btn btn-blue",attrs:{href:"/account/segment-activation"}},[t._v("Activate segment")])]),t._v(" "),t.fetchingData||0!=t.comm_account_value||-1===t.activeSegments.indexOf("COM")||t.isMobileView?t._e():e("div",{staticClass:"comm-disabled text-center"},[e("img",{attrs:{src:"/static/images/no-account-value.svg"}}),t._v(" "),e("p",{staticClass:"text-light-grey"},[t._v("You don't have any funds here")]),t._v(" "),e("a",{staticClass:"btn btn-blue",attrs:{href:"https://cashier.zerodha.com/",target:"_blank"}},[t._v("Add funds")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"four columns"},[t.fetchingData||0==t.comm_account_value||-1===t.activeSegments.indexOf("COM")?t._e():e("div",{staticClass:"hide-on-mobile"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tooltip-label",attrs:{title:"Cash balance + Margins blocked + Long option value - Short option premium"}},[t._v("Account value")]),e("br"),t._v(" "),e("h1",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.comm_account_value,2,null,!0)}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("kformat")(t.comm_account_value))+"\n\t\t\t\t\t\t\t\t\t")])])]),t._v(" "),e("div",{staticClass:"eight columns"},[t.isMobileView&&-1!==t.activeSegments.indexOf("COM")?e("div",{staticClass:"grey-back-mobile"}):t._e(),t._v(" "),t.isMobileView&&-1!==t.activeSegments.indexOf("COM")?e("div",{staticClass:"mobile-agg"},[e("div",{staticClass:"main-agg text-center"},[t.fetchingData?t._e():e("div",{staticClass:"show-on-mobile"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tooltip-label",attrs:{title:"Cash balance + Margins blocked + Long option value - Short option premium"}},[t._v("Account value")]),e("br"),t._v(" "),e("h1",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t._f("inrFormat")(t.comm_account_value,2,null,!0)}},[t.comm_account_value>0?e("span",{staticClass:"rupee-symbol"},[t._v("₹")]):t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("inrFormat")(t.comm_account_value,2,null,!1))+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),t.pnlStatus["com"]?e("span",{staticClass:"show-on-mobile text-small update-tags text-light-grey"},[e("img",{attrs:{src:"/static/images/clock.svg"}}),e("span",[e("span",[t._v("Updated on "),e("span",{staticClass:"update-tag-date"},[t._v(t._s(t.pnlStatus["com"]))])])])]):t._e()])])])]):t._e(),t._v(" "),t.fetchingData||0==t.comm_account_value||-1===t.activeSegments.indexOf("COM")?t._e():e("div",{class:{row:!0,"pull-up-section":t.isMobileView},attrs:{id:"comm_donut_container"}},[e("div",{staticClass:"six columns"},t._l(t.commCleanHeaders,(function(a,s){return e("div",{key:s,staticClass:"legends"},[e("span",{class:["legend-color l"+(s+1)]}),t._v(" "),e("span",{staticClass:"text-small text-light-grey"},[t._v(t._s(a))]),t._v(" "),e("h3",[t._v(t._s(t._f("inrFormat")(t.commValues[s],2)))])])})),0),t._v(" "),parseFloat(t.comm_account_value)>0?e("div",{staticClass:"six columns"},[t._m(2)]):t._e()])])])])])])]),t._v(" "),t.acValueError?e("div",{staticClass:"section"},[e("error",{attrs:{sub:t.acValueErrorMessage}})],1):e("div",{staticClass:"section acValue-chart-section"},[e("h2",[t._m(3),t._v("\n\t\t\t\tAccount value\n\t\t\t\t"),t.fetchingAccountValues&&!t.hideAcValues?e("br",{staticClass:"show-on-mobile"}):t._e(),t.fetchingAccountValues?e("br",{staticClass:"show-on-mobile"}):t._e(),t._v(" "),t.fetchingAccountValues&&!t.hideAcValues?e("su-loader"):t._e(),t._v(" "),t.isEqValueChart&&t.isComValueChart&&!t.hideAcValues?e("div",{staticClass:"chart-switch-container"},[e("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],class:{eqSwitch:!0,active:t.showEqValueChart},attrs:{title:"View equity account value curve"},on:{click:function(a){return t.switchChart(!0)}}},[t._v("Equity")]),e("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],class:{comSwitch:!0,active:!t.showEqValueChart},attrs:{title:"View commodity account value curve"},on:{click:function(a){return t.switchChart(!1)}}},[t._v("Commodity")])]):t._e()],1),t._v(" "),e("hr",{staticClass:"hide-on-mobile"}),e("br",{staticClass:"hide-on-mobile"}),t._v(" "),t.hideAcValues?e("a",{staticClass:"acv-show-link",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.showAcValues.apply(null,arguments)}}},[t._v("\n\t\t\t\tView account value curve "),e("span",{staticClass:"icon icon-arrow-right"})]):e("div",[t.showAcValueChart?e("div",{staticClass:"acvalue-chart-container"},[e("div",{class:{hide:!t.showEqValueChart}},[e("account-value-chart",{attrs:{acData:t.eqAcValues,totalLength:t.eqAcDates.length,isEq:!0}})],1),t._v(" "),t.comAcDates.length?e("div",{class:{hide:t.showEqValueChart}},[e("account-value-chart",{attrs:{acData:t.comAcValues,totalLength:t.comAcDates.length,isEq:!1}})],1):t._e()]):t._e(),t._v(" "),!t.fetchingAccountValues&&("object"===typeof t.eqAcValues&&Object.keys(t.eqAcValues).length>0||"object"===typeof t.comAcValues&&Object.keys(t.comAcValues).length>0)?e("br"):t._e(),t._v(" "),!t.fetchingAccountValues&&("object"===typeof t.eqAcValues&&Object.keys(t.eqAcValues).length>0||"object"===typeof t.comAcValues&&Object.keys(t.comAcValues).length>0)&&t.showSummary?e("div",{staticClass:"acvalue-summary"},[e("p",{staticClass:"summary-date-container"},[e("img",{attrs:{src:"/static/images/calendar-default.svg"}}),e("span",{staticClass:"summary-date-value"},[t._v(t._s(t.formatDate(t.acSummary["date"])))])]),t._v(" "),e("div",{staticClass:"summary-container"},[e("div",{staticClass:"row"},[t.acSummary["acValue"]?e("div",{staticClass:"two columns"},[e("p",{staticClass:"summary-values"},[t.showEqValueChart?e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"xl-tooltip",attrs:{title:"Cash balance + Margins blocked + Equity holdings value + Mutual funds value + Pledged holdings + Long option value - Short option premium"}},[t._v("Account value")]):e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"xl-tooltip",attrs:{title:"Cash balance + Margins blocked + Long option value - Short option premium"}},[t._v("Account value")]),e("br"),t._v(" "),e("span",{staticClass:"summary-value"},[t._v(t._s(t._f("inrFormat")(t.acSummary["acValue"],2,null,!1)))])])]):t._e(),t._v(" "),t.showEqValueChart&&t.acSummary["eqHoldings"]?e("div",{staticClass:"two columns"},[e("p",{staticClass:"summary-values"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Value of your equity stocks as of "+t.formatDate(t.acSummary["date"])}},[t._v("Holdings")]),e("br"),t._v(" "),e("span",{staticClass:"summary-value"},[t._v(t._s(t._f("inrFormat")(t.acSummary["eqHoldings"],2,null,!1)))])])]):t._e(),t._v(" "),t.showEqValueChart&&t.acSummary["mfHoldings"]?e("div",{staticClass:"two columns"},[e("p",{staticClass:"summary-values"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Value of your mutual funds as on "+t.formatDate(t.acSummary["date"])}},[t._v("Mutual funds")]),e("br"),t._v(" "),e("span",{staticClass:"summary-value"},[t._v(t._s(t._f("inrFormat")(t.acSummary["mfHoldings"],2,null,!1)))])])]):t._e(),t._v(" "),t.acSummary["payin"]||t.acSummary["payout"]?e("div",{staticClass:"one column border-left hide-on-mobile"},[t._m(4)]):t._e(),t._v(" "),t.acSummary["payin"]?e("div",{staticClass:"two columns"},[e("p",{staticClass:"summary-pay"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Money transferred in on "+t.formatDate(t.acSummary["date"])}},[t._v("Payin")]),e("br"),t._v(" "),e("span",{staticClass:"summary-value"},[t._v("₹"+t._s(t._f("inrFormat")(t.acSummary["payin"],2,null,!1)))])])]):t._e(),t._v(" "),t.acSummary["payout"]?e("div",{staticClass:"two columns"},[e("p",{staticClass:"summary-pay"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:"Money transferred out on "+t.formatDate(t.acSummary["date"])}},[t._v("Payout")]),e("br"),t._v(" "),e("span",{staticClass:"summary-value"},[t._v("₹"+t._s(t._f("inrFormat")(t.acSummary["payout"],2,null,!1)))])])]):t._e()]),t._v(" "),t.acSummary["events"]&&t.acSummary["events"]["y"]?e("div",{staticClass:"acvalue-events"},[e("h3",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"xl-tooltip",attrs:{title:"Spikes/dips in the account value caused due to money invested in Tbills/Gsecs or quarterly settlement done in liquid funds"}},[t._v("Deviations")]),t._v(" "),e("div",{staticClass:"row"},t._l(t.acSummary["events"]["v"],(function(a,s){return e("div",{key:s,staticClass:"two columns"},[e("p",{staticClass:"summary-values"},[e("label",[t._v(t._s(s))]),t._v(" "),e("span",{staticClass:"summary-value"},a>0?[t._v(t._s(t._f("inrFormat")(a,2,null,!1))+" (Cr)")]:[t._v(t._s(t._f("inrFormat")(t._f("abs")(a),2,null,!1))+" (Dr)")])])])})),0)]):t._e()])]):t.fetchingAccountValues?t._e():e("div",[t._m(5)])])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"console-banner"},[e("a",{attrs:{target:"_blank",href:"https://bit.ly/3UcwrKF"}},[e("img",{attrs:{src:"/static/images/ditto-banner.svg"}})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-container"},[e("div",{staticClass:"donut-container"},[e("div",{staticClass:"donut-chart-container"},[e("div",{staticClass:"donut-chart",attrs:{id:"eq_donut"}})])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-container"},[e("div",{staticClass:"donut-container"},[e("div",{staticClass:"donut-chart-container"},[e("div",{staticClass:"donut-chart",attrs:{id:"comm_donut"}})])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[e("img",{attrs:{src:"/static/images/bar-chart.svg"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"summary-values"},[e("label",[t._v(" ")]),e("br"),t._v(" "),e("span",{staticClass:"summary-value"},[t._v(" ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"text-grey"},[e("span",{staticClass:"icon icon-info"}),t._v("\n\t\t\t\t\t\tNo account value data found\n\t\t\t\t\t")])}],o=e("5698"),i=e("2e34"),l=e("3fb9"),r=e("2f62"),c=e("ba6a"),u=e("5665"),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{acData:t.acData,totalLength:t.totalLength,isEq:t.isEq}},[t.isEq?e("div",{attrs:{id:"eqAcValueChart"}}):e("div",{attrs:{id:"comAcValueChart"}})])},m=[];function h(t,a,e){for(var s=[],n=0;n<a;n++)s[n]={},s[n]["date"]=t["date"][n],s[n]["dateObj"]=t["dateObj"][n],s[n]["acValues"]=t["acValues"][n],s[n]["acValuesNet"]=t["acValuesNet"][n],e&&(s[n]["eqHoldings"]=t["eqHoldings"][n]),e&&(s[n]["mfHoldings"]=t["mfHoldings"][n]),s[n]["margin"]=t["margin"][n],s[n]["contracts"]=t["contracts"][n],s[n]["cash"]=t["cash"][n],s[n]["payin"]=t["payin"][n],s[n]["payout"]=t["payout"][n],s[n]["payinObj"]=t["payinObj"][n],s[n]["payoutObj"]=t["payoutObj"][n],s[n]["events"]=t["events"][n];var i={"Account value":"account-value","Equity holdings":"equity-holdings","MF holdings":"mf-holdings",Payin:"payin",Payout:"payout",Deviations:"deviations"},l=[],r=["account-value","equity-holdings","mf-holdings","payin","payout","deviations"],c={"account-value":"acValues","equity-holdings":"eqHoldings","mf-holdings":"mfHoldings",payin:"acValues",payout:"acValues"};function u(t){for(var a=[{value:1e7,symbol:"Cr"},{value:1e5,symbol:"L"},{value:1e3,symbol:"k"}],e=0;e<a.length;e++)if(Math.abs(t)>=a[e].value){var s=(Math.floor(t/a[e].value*100)/100).toFixed(2).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+a[e].symbol;return s}}function d(){e?o["w"]("#eqAcValueChart").selectAll("svg").remove():o["w"]("#comAcValueChart").selectAll("svg").remove();var a={top:20,right:20,bottom:110,left:50},n={top:430,right:20,bottom:30,left:50},m=960-a.left-a.right,h=500-a.top-a.bottom,p=500-n.top-n.bottom,v="#eqAcValueChart";e||(v="#comAcValueChart");var _=o["w"](v).append("svg").attr("class","chart").attr("width",m+a.left+a.right).attr("height",h+a.top+a.bottom);e?_.append("defs").append("clipPath").attr("id","clipEq").append("rect").attr("transform","translate(0, -10)").attr("width",m).attr("height",h+30):_.append("defs").append("clipPath").attr("id","clipCom").append("rect").attr("transform","translate(0, -10)").attr("width",m).attr("height",h+30);var g=o["C"]().scaleExtent([1,1/0]).translateExtent([[0,0],[m,h]]).extent([[0,0],[m,h]]).on("zoom",y);function y(){if(!o["h"].sourceEvent||"zoom"!==o["h"].sourceEvent.type){var t=o["h"].transform;A.domain(t.rescaleX(D).domain());var a=A.domain(),n=[M,N,L];e||(n=[M]),_.selectAll("path.chart__line").data(n).join("path").attr("d",(function(t){return t(s)})),_.selectAll(".chart__payin--focus").attr("cx",(function(t){return A(t.dateObj)})).attr("cy",(function(t){return F(t.payinObj.y)})),_.selectAll(".chart__payout--focus").attr("cx",(function(t){return A(t.dateObj)})).attr("cy",(function(t){return F(t.payoutObj.y)})),R.select(".x.axis").call(S),R.select(".y.axis").call(k),Y.select(".x.brush").call(P.move,A.range().map(t.invertX,t)),J.attr("display",null).attr("transform",(function(t,e){return"translate("+[D(a[e]),p/4]+")"}))}}var f=["Account value","Equity holdings","MF holdings","Payin","Payout","Deviations"],b=["#387ed1","#4bb56a","#FFCB48","#387ed1","#387ed1","#FC890D"];e||(f=["Account value","Payin","Payout","Deviations"],b=["#387ed1","#387ed1","#387ed1","#FC890D"]);var C=o["t"]().domain(f).range(b),q=o["e"]((function(t){return t.dateObj})).left,x=o["k"]({decimal:".",thousands:",",grouping:[3,2,2,2,2,2,2,2,2,2]}),V=x.format(","),w=o["z"]("%Y-%m-%d"),A=o["v"]().range([0,m]),D=o["v"]().range([0,m]),F=o["s"]().range([h,0]),O=o["s"]().range([p,0]),S=o["c"](A),E=o["c"](D),k=o["d"](F).tickFormat((function(t){return u(t)}));function j(){return o["d"](F).ticks(8)}var H=o["n"](s,(function(t){return t.acValues})),P=o["f"]().extent([[0,-7],[m,p]]).on("brush end",at),M=o["m"]().x((function(t){return A(t.dateObj)})).y((function(t){return F(t.acValues)})),N="",L="";e&&(N=o["m"]().x((function(t){return A(t.dateObj)})).y((function(t){return F(t.mfHoldings)})),L=o["m"]().x((function(t){return A(t.dateObj)})).y((function(t){return F(t.eqHoldings)})));for(var $=[],T=function(t){"deviations"!==r[t]&&-1===l.indexOf(r[t])&&s.map((function(a){$.push(1.2*a[c[r[t]]])}))},B=0;B<r.length-1;B++)T(B);var U=o["n"]($)||0,I=o["o"]($)||0,z=o["b"]().curve(o["g"]).x((function(t){return D(t.dateObj)})).y0(p).y1((function(t){return O(t.acValues*U/H)})),R=_.append("g").attr("class","focus").attr("transform","translate("+a.left+","+a.top+")"),Y=_.append("g").attr("class","context").attr("transform","translate("+n.left+","+n.top+")");A.domain(o["i"](s,(function(t){return t.dateObj}))),F.domain([I,U]),D.domain(A.domain()),O.domain(F.domain()),R.append("g").attr("class","grid").call(j().tickSize(-m).tickFormat("")),R.append("path").datum(s).attr("class","chart__line chart__account-value--focus line").attr("d",M),e&&(R.append("path").datum(s).attr("class","chart__line chart__mf-holdings--focus line").attr("d",N),R.append("path").datum(s).attr("class","chart__line chart__equity-holdings--focus line").attr("d",L)),R.selectAll(".chart__payin--focus").data(s).enter().append("circle").attr("class","chart__payin--focus").attr("cx",(function(t){return A(t.dateObj)})).attr("cy",(function(t){return t.payinObj.y?F(t.payinObj.y):0})).attr("r",(function(t){return t.payinObj.y?t.payinObj.r:0})).style("fill","rgb(56, 126, 209)").attr("stroke","none"),R.selectAll(".chart__payout--focus").data(s).enter().append("circle").attr("class","chart__payout--focus").attr("cx",(function(t){return A(t.dateObj)})).attr("cy",(function(t){return t.payoutObj.y?F(t.payoutObj.y):0})).attr("r",(function(t){return t.payoutObj.y?t.payoutObj.r:0})).style("fill","#FFF").attr("stroke","rgb(56, 126, 209)").attr("stroke-width",2),R.append("g").attr("class","x axis").attr("transform","translate(0 ,"+h+")").call(S.tickSizeOuter(0)),R.append("g").attr("class","y axis").attr("transform","translate(0, 0)").call(k.ticks(8)),Y.append("path").datum(s).attr("class","chart__area").attr("d",z),Y.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+p+")").call(E);var G=s[0]["dateObj"],Q=Y.append("g").attr("class","x brush").call(P),J=Q.selectAll(".handle--custom").data([{type:"w"},{type:"e"}]).enter().append("path").attr("class","handle--custom").attr("stroke","#7f8faf").attr("cursor","ew-resize").attr("d","M -4.5 0.5 L 3.5 0.5 L 3.5 15.5 L -4.5 15.5 L -4.5 0.5 M -1.5 4 L -1.5 12 M 0.5 4 L 0.5 12");Q.call(P.move,[A(G),A(s[s.length-1]["dateObj"])]).select("rect.overlay").attr("y",-6).attr("height",p+7);var X=o["w"]("body").append("div").attr("class","tooltip").style("position","absolute").style("background-color","#FFF").style("border","solid 1px #f4f4f4").style("box-shadow","0 0 16px 0 rgba(213, 213, 213, 0.2)").style("border-radius","8px");_.append("g").attr("class","chart__mouse").append("rect").attr("class","chart__overlay").attr("width",m).attr("height",h).attr("transform","translate("+a.left+","+a.top+")").on("mouseover",(function(){et.style("display",null),e&&(nt.style("display",null),st.style("display",null)),X.style("display",null)})).on("mouseout",(function(){et&&et.style("display","none"),e&&(nt&&nt.style("display","none"),st&&st.style("display","none")),X&&X.style("display","none"),W&&W.attr("opacity",0)})).on("mousemove",Z).on("click",tt);var W=R.append("line").attr("opacity",0).attr("stroke","#9b9b9b").attr("stroke-width",1).attr("pointer-events","none").attr("y1",15).attr("y2",h),K="";function Z(){var t=A.invert(o["p"](this)[0]),a=q(s,t,1),n=s[a-1],i=s[a],r=t-n.dateObj>i.dateObj-t?i:n;if(et.attr("transform","translate("+A(r.dateObj)+","+F(r.acValues)+")"),e&&(nt.attr("transform","translate("+A(r.dateObj)+","+F(r.mfHoldings)+")"),st.attr("transform","translate("+A(r.dateObj)+","+F(r.eqHoldings)+")")),e){var c='<div style="color: #9b9b9b;">'.concat(w(r.dateObj),"</div>")+'<div style="display: '.concat(0===r.acValues||-1!==l.indexOf("account-value")?"none":"block",'"><span style="display: inline-block; width: 12px; height: 12px; background-color: #387ed1; margin-right: 5px;"></span><span>Account value: ').concat(V(r.acValues),"</span></div>")+'<div style="display: '.concat(0===r.eqHoldings||-1!==l.indexOf("eq-holdings")?"none":"block",'"><span style="display: inline-block; width: 12px; height: 12px; background-color: #4bb56a; margin-right: 5px;"></span><span>Equity holdings: ').concat(V(r.eqHoldings),"</span></div>")+'<div style="display: '.concat(0===r.mfHoldings||-1!==l.indexOf("mf-holdings")?"none":"block",'"><span style="display: inline-block; width: 12px; height: 12px; background-color: #FFCB48; margin-right: 5px;"></span><span>MF holdings: ').concat(V(r.mfHoldings),"</span></div>")+'<div style="display: '.concat(0===r.payin||-1!==l.indexOf("payin")?"none":"block",'"><span style="display: inline-block; width: 12px; height: 12px; background-color: #387ed1; margin-right: 5px;"></span><span>Payin: ').concat(V(r.payin),"</span></div>")+'<div style="display: '.concat(0===r.payout||-1!==l.indexOf("payout")?"none":"block",'"><span style="display: inline-block; width: 12px; height: 12px; background-color: #387ed1; margin-right: 5px;"></span><span>Payout: ').concat(V(r.payout),"</span></div>");r.margin&&(c+="<div><span> Margin: ".concat(r.margin,"</span></div>")),r.contracts&&(c+="<div><span> Contracts value: ".concat(r.contracts,"</span></div>")),r.cash&&(c+="<div><span> Cash balance: ".concat(r.cash,"</span></div>"));var u=50;o["h"].pageX>1050&&(u=-250),X.html("").style("position","absolute").style("left",o["h"].pageX+u+"px").style("top",o["h"].pageY-20+"px").style("padding","5px").selectAll().data([s]).enter().append("div").html(c)}else{var d='<div style="color: #9b9b9b;">'.concat(w(r.dateObj),"</div>")+'<div style="display: '.concat(0===r.acValues||-1!==l.indexOf("account-value")?"none":"block",'"><span style="display: inline-block; width: 12px; height: 12px; background-color: #387ed1; margin-right: 5px;"></span><span>Account value: ').concat(V(r.acValues),"</span></div>")+'<div style="display: '.concat(0===r.payin||-1!==l.indexOf("payin")?"none":"block",'"><span style="display: inline-block; width: 12px; height: 12px; background-color: #387ed1; margin-right: 5px;"></span><span>Payin: ').concat(V(r.payin),"</span></div>")+'<div style="display: '.concat(0===r.payout||-1!==l.indexOf("payout")?"none":"block",'"><span style="display: inline-block; width: 12px; height: 12px; background-color: #387ed1; margin-right: 5px;"></span><span>Payout: ').concat(V(r.payout),"</span></div>");r.margin&&(d+="<div><span> Margin: ".concat(r.margin,"</span></div>")),r.contracts&&(d+="<div><span> Contracts value: ".concat(r.contracts,"</span></div>")),r.cash&&(d+="<div><span> Cash balance: ".concat(r.cash,"</span></div>"));var m=50;o["h"].pageX>1050&&(m=-250),X.html("").style("position","absolute").style("left",o["h"].pageX+m+"px").style("top",o["h"].pageY-20+"px").style("padding","5px").selectAll().data([s]).enter().append("div").html(d)}W.attr("transform","translate("+A(r.dateObj)+",0)").attr("opacity",1)}function tt(){var a=A.invert(o["p"](this)[0]),n=q(s,a,1),i=s[n-1],l=s[n],r=a-i.dateObj>l.dateObj-a?l:i;if(window.CONSOLE_API)if(e){var c=t.date.indexOf(r.date);-1!==c&&window.CONSOLE_API.showEqSummary(c)}else{var u=t.date.indexOf(r.date);-1!==u&&window.CONSOLE_API.showComSummary(u)}}function at(){if(!o["h"].sourceEvent||"zoom"!==o["h"].sourceEvent.type){var t=o["h"].selection||D.range();A.domain(t.map(D.invert,D));var a=[M,N,L];e||(a=[M]),_.selectAll("path.chart__line").data(a).join("path").attr("d",(function(t){return t(s)})),_.selectAll(".chart__payin--focus").attr("cx",(function(t){return A(t.dateObj)})).attr("cy",(function(t){return F(t.payinObj.y)})),_.selectAll(".chart__payout--focus").attr("cx",(function(t){return A(t.dateObj)})).attr("cy",(function(t){return F(t.payoutObj.y)})),R.select(".x.axis").call(S),R.select(".y.axis").call(k),_.call(g.transform,o["D"].scale(m/(t[1]-t[0])).translate(-t[0],0)),J.attr("display",null).attr("transform",(function(a,e){return"translate("+[t[e],p/4]+")"}))}}K=e?o["w"]("#eqAcValueChart").select(".chart").selectAll(".legend").data(C.domain().slice()).enter().append("g").attr("class",(function(t){return"legend-"+t.split(" ").join("-").toLowerCase()})).style("cursor","pointer").attr("transform",(function(t,a){var e=[0,140,290,420,500,590];return"translate(".concat(e[a],", -10)")})):o["w"]("#comAcValueChart").select(".chart").selectAll(".legend").data(C.domain().slice()).enter().append("g").attr("class",(function(t){return"legend-"+t.split(" ").join("-").toLowerCase()})).style("cursor","pointer").attr("transform",(function(t,a){var e=[0,145,230,320];return"translate(".concat(e[a],", -10)")})),K.append("rect").attr("x",200).attr("y",9).attr("width",16).attr("height",16).style("display",(function(t,a){return e?a>2?"none":"block":a>0?"none":"block"})).style("fill",C),K.append("circle").attr("cx",210).attr("cy",18).attr("r",(function(t,a){return e?a>3?7:8:a>1?7:8})).style("display",(function(t,a){return e?a>2?"block":"none":a>0?"block":"none"})).style("fill",(function(t,a){return e?a>3?"#FFF":"#387ed1":a>1?"#FFF":"#387ed1"})).style("stroke",(function(t,a){if(e){if(4===a)return"#387ed1";if(5===a)return"#FC890D"}else{if(2===a)return"#387ed1";if(3===a)return"#FC890D"}})).style("stroke-width",(function(t,a){if(e){if(a>3)return 2}else if(a>1)return 2})),K.append("text").attr("x",(function(t,a){var s=[320,328,312,264,272,300];return e||(s=[320,264,272,300]),"".concat(s[a])})).attr("y",18).attr("dy",".35em").style("text-anchor","end").text((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),K.on("click",(function(t,a){-1===l.indexOf(i[t])?l.push(i[t]):l=l.filter((function(a){return a!==i[t]})),d();for(var e=0;e<l.length;e++)o["w"](".legend-"+l[e]).select("text").transition().style("text-decoration","line-through"),o["x"](".chart__"+l[e]+"--focus").transition().style("display","none"),o["x"](".chart__"+l[e]+"--marker").transition().style("display","none")}));var et=R.append("g").attr("class","chart__account-value--marker").append("circle").style("display","none").style("fill","#387ed1").attr("r",5),st="",nt="";e&&(st=R.append("g").attr("class","chart__equity-holdings--marker").append("circle").style("display","none").style("fill","#4bb56a").attr("r",5),nt=R.append("g").attr("class","chart__mf-holdings--marker").append("circle").style("display","none").style("fill","#FFCB48").attr("r",5)),_.call(g)}e||(i={"Account value":"account-value",Payin:"payin",Payout:"payout",Deviations:"deviations"},r=["account-value","payin","payout","deviations"],c={"account-value":"acValues",payin:"acValues",payout:"acValues"}),d()}var p={name:"acValueChart",data:function(){return{}},props:{acData:{type:Object},totalLength:{type:Number},isEq:{type:Boolean,default:!0}},computed:{},watch:{},mounted:function(){Object.keys(this.acData).length>0&&h(this.acData,this.totalLength,this.isEq)},methods:{}},v=p,_=e("2877"),g=Object(_["a"])(v,d,m,!1,null,null,null),y=g.exports;function f(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function b(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?f(Object(e),!0).forEach((function(a){C(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function C(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(t){var a=new Date(t),e=""+(a.getMonth()+1),s=""+a.getDate(),n=a.getFullYear();return e.length<2&&(e="0"+e),s.length<2&&(s="0"+s),[n,e,s].join("-")}function V(t){var a=new Date(t+" 00:00:00");return a.setDate(new Date(t).getUTCDate()+1),x(a)}function w(t,a){return""===t||void 0===t?0:parseFloat(parseFloat(t).toFixed(2))}var A={data:function(){return{dashboardData:{},equityValues:[],equityHeaders:[],equity_account_value:0,commValues:[],commHeaders:[],comm_account_value:0,equityCleanHeaders:[],commCleanHeaders:[],fetchingData:!1,fetchingAccountValues:!1,dashboardError:!1,dashboardErrorMessage:"Please try again",acValueError:!1,acValueErrorMessage:"Please try again",lastUpdated:{},acValueDate:[],acValueCash:[],acValueContract:[],isEqValueChart:!1,isComValueChart:!1,isEqPayChart:!1,isComPayChart:!1,showEqValueChart:!0,eqAcValues:{},comAcValues:{},acSummary:{},eqAcDates:[],comAcDates:[],eqDefaultData:[],comDefaultData:[],colors:["rgb(75,181,106)","rgb(255,203,72)","rgb(95,72,153)","rgb(252,137,13)","rgb(0,89,193)","rgb(44,185,255)","rgb(153, 70, 235)"],showSummary:!1,showAcValueChart:!1,hideAcValues:!0}},computed:b({},Object(r["c"])(["activeSegments","pnlStatus","isMobileView","userDetails"])),mounted:function(){this.loading=!1,this.getDashboardData();var t=document.getElementById("status");t&&(t.getAttribute("eq")&&t.getAttribute("fo")&&t.getAttribute("cds")&&(this.lastUpdated["eq"]=x(Math.max(new Date(t.getAttribute("eq")),new Date(t.getAttribute("fo")),new Date(t.getAttribute("cds"))))),t.getAttribute("mcx")&&(this.lastUpdated["mcx"]=t.getAttribute("mcx"))),window.CONSOLE_API={showEqSummary:this.showEqSummary,showComSummary:this.showComSummary}},watch:{fetchingData:function(t){var a=this;this.$nextTick((function(){if(!1===t){var e=[];if(a.equityValues.length>0){for(var s=0;s<a.equityCleanHeaders.length;s++)e.push({name:a.equityCleanHeaders[s],value:a.equityValues[s]});a.bakeDonut(e,a.colors,"Equity")}if(a.commValues.length>0){e=[];for(var n=0;n<a.commCleanHeaders.length;n++)e.push({name:a.commCleanHeaders[n],value:a.commValues[n]});a.bakeDonut(e,a.colors,"Commodity")}}}))}},methods:{showAcValues:function(){var t=this;this.hideAcValues=!1,this.$nextTick((function(){t.getAccountData()}))},resetCharts:function(){},formatDate:function(t){var a=new Date(t);return a.getDate()+" "+q[a.getMonth()]+" "+a.getFullYear()},showEqSummary:function(t){-1===t&&(t=this.eqAcValues["date"].length-1),this.$set(this.acSummary,"date",this.eqAcValues["date"][t]),this.$set(this.acSummary,"acValue",parseFloat(this.eqAcValues["acValues"][t]).toFixed(2)),this.$set(this.acSummary,"eqHoldings",this.eqAcValues["eqHoldings"][t]),this.$set(this.acSummary,"mfHoldings",this.eqAcValues["mfHoldings"][t]),this.$set(this.acSummary,"cash",this.eqAcValues["cash"][t]),this.$set(this.acSummary,"payin",this.eqAcValues["payin"][t]),this.$set(this.acSummary,"payout",this.eqAcValues["payout"][t]),this.$set(this.acSummary,"events",this.eqAcValues["events"][t])},showComSummary:function(t){-1===t&&(t=this.comAcValues["date"].length-1),this.$set(this.acSummary,"date",this.comAcValues["date"][t]),this.$set(this.acSummary,"acValue",parseFloat(this.comAcValues["acValues"][t]).toFixed(2)),this.$set(this.acSummary,"cash",this.comAcValues["cash"][t]),this.$set(this.acSummary,"payin",this.comAcValues["payin"][t]),this.$set(this.acSummary,"payout",this.comAcValues["payout"][t]),this.$set(this.acSummary,"events",this.comAcValues["events"][t])},switchChart:function(t){t?this.showEqSummary(this.eqAcValues["date"].length-1):this.showComSummary(this.comAcValues["date"].length-1),this.showEqValueChart=t},getdayDiff:function(t){var a=864e5,e=new Date(t),s=new Date,n=Math.round(Math.abs((e.getTime()-s.getTime())/a));return 0===n?"Updated today":1===n?"Updated 1 day ago":2===n?"Updated 2 days ago":"Updated on <span class='update-tag-date'>"+t+"</span>"},bakeDonut:function(t,a,e){var s,n=this,i="",l="#eq_donut";"Commodity"===e&&(l="#comm_donut"),console.log(document.querySelector(l),this.equity_account_value,this.fetchingData,this.activeSegments.indexOf("EQ"));var r=t,c=190,u=190,d=u,m=u,h=32,p=a,v=o["w"](l),_=Math.min(d,m)/2,g=o["t"]().range(p),y=(o["n"](r,(function(t){return t.value})),v.append("svg").attr("viewBox","0 0 ".concat(c+h," ").concat(u+h)).attr("class","pie").attr("width",c).attr("height",m).attr("id",l+"_donut")),f=y.append("g").attr("transform","translate( ".concat(d/2+h/2,", ").concat(m/2+h/2,")")),b=o["a"]().innerRadius(_-h).outerRadius(_),C=o["a"]().innerRadius(_-h).outerRadius(_+8),q=o["r"]().value((function(t){return t.value})).sort(null);f.selectAll("path").attr("class","data-path").data(q(r)).enter().append("g").attr("class","data-group").each((function(t,a){var s=o["w"](this);0===a&&s.append("text").text(e).attr("class","data-text data-text__section").attr("id",l+"_section").attr("text-anchor","middle").attr("dy","1rem"),s.append("text").text("".concat(t.data.value)).attr("class","data-text data-text__value").attr("text-anchor","middle").attr("dy","1rem");var n=t.data.name;if(n.length>18){var i=n.substring(0,18);n=i+".."}s.append("text").text(n).attr("class","data-text data-text__name").attr("text-anchor","middle").attr("dy","1rem");o["w"](this).select(".data-text__section").classed("data-text--show",!0)})).append("path").attr("d",b).attr("fill",(function(t,a){return"Gold"===t.data.name?"rgb(255, 181, 13)":g(t.data.name)})).attr("class","data-path").attr("id",(function(t){return"Account"===e?n.reverseAccountMap(t.data.name).replace(/ /g,""):i+t.data.name.replace(/ /g,"")})).on("mouseover",(function(t){var a=this;a.parentNode;if(a!==s){s=a;o["x"](".data-path").transition().duration(150).attr("d",b);o["w"](a).transition().duration(150).attr("d",C);for(var e=document.getElementById(l+"_donut").querySelectorAll(".data-text"),n=0;n<e.length;n++)e[n].classList.remove("data-text--show");o["w"](this.parentNode).select(".data-text__value").classed("data-text--show",!0),o["w"](this.parentNode).select(".data-text__name").classed("data-text--show",!0)}})).on("mouseout",(function(){for(var t=document.getElementsByClassName("label"),a=0;a<t.length;a++)t[a].classList.remove("active");s="";o["x"](".data-path").transition().duration(150).attr("d",b);for(var e=document.getElementById(l+"_donut").querySelectorAll(".data-text"),n=0;n<e.length;n++)e[n].classList.remove("data-text--show");document.getElementById(l+"_section").classList.add("data-text--show")})).on("click",(function(t){n.chartClicked(t.index,e)}))},getDashboardData:function(){var t=this;this.fetchingData=!0,this.dashboardError=!1,c["a"].request("GET",!1,u["a"].getDashboardData,null,(function(a,e){t.fetchingData=!1,"SUCCESS"===a.toUpperCase()?(t.dashboardData=e.data.data.result,t.equity_account_value=0,t.dashboardData.eq_holdings_value&&(t.equityCleanHeaders.push("Equity holdings"),t.equityValues.push(parseFloat(t.dashboardData.eq_holdings_value).toFixed(2)),t.equity_account_value+=parseFloat(t.dashboardData.eq_holdings_value)),t.dashboardData.mf_holdings_value&&(t.equityCleanHeaders.push("Mutual funds"),t.equityValues.push(parseFloat(t.dashboardData.mf_holdings_value).toFixed(2)),t.equity_account_value+=parseFloat(t.dashboardData.mf_holdings_value)),t.dashboardData.eq_margin&&(t.equityCleanHeaders.push("Account margin"),t.equityValues.push(parseFloat(t.dashboardData.eq_margin).toFixed(2)),t.equity_account_value+=parseFloat(t.dashboardData.eq_margin)),(t.dashboardData.eq_pledged_holdings_value||t.dashboardData.mf_pledged_holdings_value)&&(t.equityCleanHeaders.push("Pledged holdings"),t.dashboardData.mf_pledged_holdings_value?(t.equityValues.push(parseFloat(parseFloat(t.dashboardData.eq_pledged_holdings_value)+parseFloat(t.dashboardData.mf_pledged_holdings_value)).toFixed(2)),t.equity_account_value+=parseFloat(parseFloat(t.dashboardData.eq_pledged_holdings_value)+parseFloat(t.dashboardData.mf_pledged_holdings_value))):(t.equityValues.push(parseFloat(t.dashboardData.eq_pledged_holdings_value).toFixed(2)),t.equity_account_value+=parseFloat(t.dashboardData.eq_pledged_holdings_value))),t.dashboardData.fo_long_option_value&&(t.equityCleanHeaders.push("Long option"),t.equityValues.push(parseFloat(t.dashboardData.fo_long_option_value).toFixed(2)),t.equity_account_value+=parseFloat(t.dashboardData.fo_long_option_value)),t.dashboardData.fo_short_option_premium&&(t.equityCleanHeaders.push("Short option premium"),t.equityValues.push(parseFloat(t.dashboardData.fo_short_option_premium).toFixed(2)),t.equity_account_value-=parseFloat(t.dashboardData.fo_short_option_premium)),t.dashboardData.eq_balance&&(t.equityCleanHeaders.push("Cash balance"),t.equityValues.push(parseFloat(t.dashboardData.eq_balance).toFixed(2)),t.equity_account_value+=parseFloat(t.dashboardData.eq_balance)),t.dashboardData.collateral_margin>=0?(t.equityValues.push(parseFloat(t.dashboardData.collateral_margin).toFixed(2)),t.equityValues.push(parseFloat(t.dashboardData.eq_pledged_holdings_value-t.dashboardData.collateral_margin).toFixed(2))):(t.equityValues.push("NA"),t.equityValues.push("NA")),t.comm_account_value=0,parseFloat(parseFloat(t.dashboardData.com_margin).toFixed(3))&&(t.commCleanHeaders.push("Account margin"),t.commValues.push(parseFloat(t.dashboardData.com_margin).toFixed(2)),t.comm_account_value+=parseFloat(t.dashboardData.com_margin)),parseFloat(parseFloat(t.dashboardData.com_long_option_value).toFixed(3))&&(t.commCleanHeaders.push("Long option"),t.commValues.push(parseFloat(t.dashboardData.com_long_option_value).toFixed(2)),t.comm_account_value+=parseFloat(t.dashboardData.com_long_option_value)),parseFloat(parseFloat(t.dashboardData.com_short_option_premium).toFixed(3))&&(t.commCleanHeaders.push("Short option premium"),t.commValues.push(parseFloat(t.dashboardData.com_short_option_premium).toFixed(2)),t.comm_account_value-=parseFloat(t.dashboardData.com_short_option_premium)),parseFloat(parseFloat(t.dashboardData.com_balance).toFixed(3))&&(t.commCleanHeaders.push("Cash balance"),t.commValues.push(parseFloat(t.dashboardData.com_balance).toFixed(2)),t.comm_account_value+=parseFloat(t.dashboardData.com_balance))):"FAILURE"===a.toUpperCase()?(t.dashboardError=!0,t.$toast.error({message:"Error fetching dashboard data: "+e.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3})):(t.dashboardError=!0,t.$toast.error({message:"Error fetching dashboard data:"+c["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3}))}))},getAccountData:function(){var t=this;this.fetchingAccountValues=!0,this.acValueError=!1,c["a"].request("GET",!1,u["a"].getAccountValues,null,(function(a,e){if("SUCCESS"===a.toUpperCase()){var s=e.data.data.result&&e.data.data.result["EQ"]?e.data.data.result["EQ"]:{},n=[],o=[],i=[],l=[],r=[],u=[],d=[],m=[],h=[],p=[],v=[],_=[],g=[];for(var y in s)s.hasOwnProperty(y)&&n.push(y);if(n.sort((function(t,a){return new Date(t)-new Date(a)})),n.length>1){var f=n[0],b=V(n[0]),C=1;while(b<=n[n.length-1])b!==n[C]?(s[b]={},s[b]["eq_holdings_value"]=s[f]["eq_holdings_value"],s[b]["mf_holdings_value"]=s[f]["mf_holdings_value"],s[b]["net_balance"]=s[f]["net_balance"],s[b]["margin"]=s[f]["margin"],s[b]["positions_value"]=s[f]["positions_value"]):C++,s.hasOwnProperty(b)&&""===s[b]["eq_holdings_value"]&&(s.hasOwnProperty(f)&&""===s[f]["eq_holdings_value"]?s[b]["eq_holdings_value"]=0:s[b]["eq_holdings_value"]=s[f]["eq_holdings_value"]),s.hasOwnProperty(b)&&""===s[b]["mf_holdings_value"]&&(s.hasOwnProperty(f)&&""===s[f]["mf_holdings_value"]?s[b]["mf_holdings_value"]=0:s[b]["mf_holdings_value"]=s[f]["mf_holdings_value"]),s.hasOwnProperty(b)&&""===s[b]["net_balance"]&&(s.hasOwnProperty(f)&&""===s[f]["net_balance"]?s[b]["net_balance"]=0:s[b]["net_balance"]=s[f]["net_balance"]),f=V(f),b=V(b);for(var q in n=[],s)s.hasOwnProperty(q)&&n.push(q);n.sort((function(t,a){return new Date(t)-new Date(a)})),delete s[n[0]],n.splice(0,1);for(var x=[],A=0,D=0,F=0;F<n.length;F++)if(s.hasOwnProperty(n[F])){var O=w(s[n[F]]["eq_holdings_value"]),S=w(s[n[F]]["mf_holdings_value"]),E=w(s[n[F]]["margin"]),k=w(s[n[F]]["positions_value"]),j=w(s[n[F]]["net_balance"]),H=w(s[n[F]]["payin"],"pay"),P=w(s[n[F]]["payout"],"pay"),M=O+S+k+j;A+=H,D+=P;var N=M-A+D,L={};s[n[F]]["event"]?(L.x=new Date(n[F]),L.y=M,L.v=JSON.parse(s[n[F]]["event"]),L.r=5):(L.x=new Date(n[F]),L.y="",L.r=0),g.push(L),x.push(new Date(n[F])),v.push(M),_.push(N),l.push(O),r.push(S),i.push(E),o.push(k),u.push(j),d.push(H),m.push(P);var $={};H>0?($.x=new Date(n[F]),$.y=M,$.v=H,$.r=5):($.x=new Date(n[F]),$.y="",$.r=0),h.push($);var T={};P>0?(T.x=new Date(n[F]),T.y=M,T.v=P,T.r=5):(T.x=new Date(n[F]),T.y="",T.r=0),p.push(T)}t.eqAcDates=n,t.eqAcValues["date"]=n,t.eqAcValues["dateObj"]=x,t.eqAcValues["acValues"]=v,t.eqAcValues["acValuesNet"]=_,t.eqAcValues["eqHoldings"]=l,t.eqAcValues["mfHoldings"]=r,t.eqAcValues["margin"]=i,t.eqAcValues["contracts"]=o,t.eqAcValues["cash"]=u,t.eqAcValues["payin"]=d,t.eqAcValues["payout"]=m,t.eqAcValues["payinObj"]=h,t.eqAcValues["payoutObj"]=p,t.eqAcValues["events"]=g,t.isEqValueChart=!0}else t.isEqValueChart=!1,t.showEqValueChart=!1;var B=e.data.data.result&&e.data.data.result["COM"]?e.data.data.result["COM"]:{},U=[],I=[],z=[],R=[],Y=[],G=[],Q=[],J=[],X=[],W=[],K=[];for(var Z in B)B.hasOwnProperty(Z)&&U.push(Z);if(U.sort((function(t,a){return new Date(t)-new Date(a)})),U.length>1){var tt=U[0],at=V(U[0]),et=1;while(at<=U[U.length-1])B.hasOwnProperty(at)&&""===B[at]["net_balance"]&&(B.hasOwnProperty(tt)&&""===B[tt]["net_balance"]?B[at]["net_balance"]=0:B[at]["net_balance"]=B[tt]["net_balance"]),at!==U[et]?(B[at]={},B[at]["net_balance"]=B[tt]["net_balance"]):et++,tt=at,at=V(at);for(var st in U=[],B)B.hasOwnProperty(st)&&U.push(st);U.sort((function(t,a){return new Date(t)-new Date(a)})),delete B[U[0]],U.splice(0,1);for(var nt=[],ot=0,it=0,lt=0;lt<U.length;lt++)if(B.hasOwnProperty(U[lt])){var rt=w(B[U[lt]]["margin"]),ct=w(B[U[lt]]["positions_value"]),ut=w(B[U[lt]]["net_balance"]),dt=w(B[U[lt]]["payin"],"pay"),mt=w(B[U[lt]]["payout"],"pay"),ht=ct+ut;ot+=dt,it+=mt;var pt=ht-ot+it,vt={};B[U[lt]]["event"]?(vt.x=new Date(U[lt]),vt.y=ht,vt.v=JSON.parse(B[U[lt]]["event"]),vt.r=5):(vt.x=new Date(U[lt]),vt.y="",vt.r=0),I.push(vt),nt.push(new Date(U[lt])),W.push(ht),K.push(pt),R.push(rt),z.push(ct),Y.push(ut),G.push(dt),Q.push(mt);var _t={};dt>0?(_t.x=new Date(U[lt]),_t.y=ht,_t.v=dt,_t.r=5):(_t.x=new Date(U[lt]),_t.y="",_t.r=0),J.push(_t);var gt={};mt>0?(gt.x=new Date(U[lt]),gt.y=ht,gt.v=mt,gt.r=5):(gt.x=new Date(U[lt]),gt.y="",gt.r=0),X.push(gt)}t.comAcDates=U,t.comAcValues["date"]=U,t.comAcValues["dateObj"]=nt,t.comAcValues["acValues"]=W,t.comAcValues["acValuesNet"]=K,t.comAcValues["margin"]=R,t.comAcValues["contracts"]=z,t.comAcValues["cash"]=Y,t.comAcValues["payin"]=G,t.comAcValues["payout"]=Q,t.comAcValues["payinObj"]=J,t.comAcValues["payoutObj"]=X,t.comAcValues["events"]=I,t.isComValueChart=!0}else t.isComValueChart=!1;t.showAcValueChart=!0,t.showChart=!0,t.showEqValueChart&&(t.showEqSummary(t.eqAcDates.length-1),t.fetchingAccountValues=!1,t.showSummary=!0),t.isEqValueChart||t.isComValueChart||(t.fetchingAccountValues=!1)}else"FAILURE"===a.toUpperCase()?(t.fetchingAccountValues=!1,t.acValueError=!0,t.$toast.error({message:"Error fetching account values: "+e.data.message,orientation:t.$toast.TOP_RIGHT,duration:6e3})):(t.fetchingAccountValues=!1,t.acValueError=!0,t.$toast.error({message:"Error fetching account values:"+c["a"].errorMessage(),orientation:t.$toast.TOP_RIGHT,duration:6e3}))}))},getEqNetChange:function(t,a){this.acSummary={};var e=this.eqAcDates.indexOf(x(t)),s=this.eqAcDates.indexOf(x(a));-1===e&&(e=0),-1===s&&(s=this.eqAcDates.length-1);var n=parseFloat(parseFloat(this.eqAcValues["eqHoldings"][s])).toFixed(2);parseFloat(this.eqAcValues["eqHoldings"][e])>0&&(n=parseFloat((parseFloat(this.eqAcValues["eqHoldings"][s])-parseFloat(this.eqAcValues["eqHoldings"][e]))/parseFloat(this.eqAcValues["eqHoldings"][e])*100).toFixed(2));var o=parseFloat(parseFloat(this.eqAcValues["acValues"][s])).toFixed(2);parseFloat(this.eqAcValues["acValues"][e])>0&&(o=parseFloat((parseFloat(this.eqAcValues["acValues"][s])-parseFloat(this.eqAcValues["acValues"][e]))/parseFloat(this.eqAcValues["acValues"][e])*100).toFixed(2));var i=parseFloat(parseFloat(this.eqAcValues["mfHoldings"][s])).toFixed(2);parseFloat(this.eqAcValues["mfHoldings"][e])>0&&(i=parseFloat((parseFloat(this.eqAcValues["mfHoldings"][s])-parseFloat(this.eqAcValues["mfHoldings"][e]))/parseFloat(this.eqAcValues["mfHoldings"][e])*100).toFixed(2));for(var l=0,r=0,c=e;c<=s;c++)l+=this.eqAcValues["payin"][c],r+=this.eqAcValues["payout"][c];this.acSummary["startDate"]=this.eqAcDates[e],this.acSummary["endDate"]=this.eqAcDates[s],this.acSummary["holdingsChange"]=n,this.acSummary["mfChange"]=i,this.acSummary["acValueChange"]=o,this.acSummary["payins"]=l,this.acSummary["payouts"]=r},getComNetChange:function(t,a){this.acSummary={};var e=this.comAcDates.indexOf(x(t)),s=this.comAcDates.indexOf(x(a));-1===e&&(e=0),-1===s&&(s=this.comAcDates.length-1);var n=parseFloat(parseFloat(this.comAcValues["acValues"][s])).toFixed(2);parseFloat(this.comAcValues["acValues"][e])>0&&(n=parseFloat((parseFloat(this.comAcValues["acValues"][s])-parseFloat(this.comAcValues["acValues"][e]))/parseFloat(this.comAcValues["acValues"][e])*100).toFixed(2));for(var o=0,i=0,l=e;l<=s;l++)o+=this.comAcValues["payin"][l],i+=this.comAcValues["payout"][l];this.acSummary["startDate"]=this.comAcDates[e],this.acSummary["endDate"]=this.comAcDates[s],this.acSummary["acValueChange"]=n,this.acSummary["payins"]=o,this.acSummary["payouts"]=i},showMobileDonut:function(t){"equity"===t&&document.getElementsByTagName("body")[0].offsetWidth<=800?(document.getElementsByClassName("comm-donut-section")[0].setAttribute("style","display: none"),document.getElementsByClassName("equity-donut-section")[0].setAttribute("style","display: block !important; width: 100% !important"),document.getElementById("comm_card").classList.remove("active"),document.getElementById("equity_card").classList.add("active")):"comm"===t&&document.getElementsByTagName("body")[0].offsetWidth<=800&&(document.getElementsByClassName("equity-donut-section")[0].setAttribute("style","display: none"),document.getElementsByClassName("comm-donut-section")[0].setAttribute("style","display: block !important; width: 100% !important"),document.getElementById("equity_card").classList.remove("active"),document.getElementById("comm_card").classList.add("active"))}},components:{AccountValueChart:y,jobber:i["a"],error:l["default"]}},D=A,F=Object(_["a"])(D,s,n,!1,null,null,null);a["default"]=F.exports}}]);